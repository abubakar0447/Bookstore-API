2024-09-30 11:11:09.956 +05:00 [INF] User profile is available. Using 'C:\Users\Abubakar Sabir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 11:11:12.475 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 11:11:12.539 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 11:11:12.552 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 11:11:15.043 +05:00 [INF] Executed DbCommand (171ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 11:11:15.245 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 11:11:15.818 +05:00 [INF] Now listening on: http://localhost:5296
2024-09-30 11:11:15.820 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 11:11:15.822 +05:00 [INF] Hosting environment: Development
2024-09-30 11:11:15.823 +05:00 [INF] Content root path: E:\House of Technology Office\Bookstore API project learning\BookstoreAPI
2024-09-30 11:11:23.047 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/ - null null
2024-09-30 11:11:23.235 +05:00 [INF] Incoming Request: GET /
2024-09-30 11:11:24.436 +05:00 [WRN] Failed to determine the https port for redirect.
2024-09-30 11:11:24.438 +05:00 [INF] Outgoing Response: 404
2024-09-30 11:11:24.447 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/ - 404 0 null 1404.0729ms
2024-09-30 11:11:24.461 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5296/, Response status code: 404
2024-09-30 11:11:29.893 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/swagger/index.html - null null
2024-09-30 11:11:30.006 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/swagger/index.html - 200 null text/html;charset=utf-8 113.5693ms
2024-09-30 11:11:30.160 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/swagger/v1/swagger.json - null null
2024-09-30 11:11:30.347 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 186.9554ms
2024-09-30 11:12:06.243 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Books - null null
2024-09-30 11:12:06.285 +05:00 [INF] Incoming Request: GET /api/Books
2024-09-30 11:12:06.296 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.BooksController.GetBooks (BookstoreAPI)'
2024-09-30 11:12:06.317 +05:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookstoreAPI.Models.DTOs.BookReadDTO]]] GetBooks() on controller BookstoreAPI.Controllers.BooksController (BookstoreAPI).
2024-09-30 11:12:06.789 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2024-09-30 11:12:06.873 +05:00 [INF] Action BookstoreAPI.Controllers.BooksController.GetBooks (BookstoreAPI) executed in 549ms
2024-09-30 11:12:06.880 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.DTOs.BookReadDTO, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 11:12:07.021 +05:00 [INF] Executed action BookstoreAPI.Controllers.BooksController.GetBooks (BookstoreAPI) in 695.4287ms
2024-09-30 11:12:07.023 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.BooksController.GetBooks (BookstoreAPI)'
2024-09-30 11:12:07.026 +05:00 [INF] Outgoing Response: 200
2024-09-30 11:12:07.037 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Books - 200 587 application/json; charset=utf-8 794.0158ms
2024-09-30 11:12:59.163 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Books/2 - null null
2024-09-30 11:12:59.169 +05:00 [INF] Incoming Request: GET /api/Books/2
2024-09-30 11:12:59.175 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.BooksController.GetBook (BookstoreAPI)'
2024-09-30 11:12:59.209 +05:00 [INF] Route matched with {action = "GetBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookstoreAPI.Models.DTOs.BookReadDTO]] GetBook(Int32) on controller BookstoreAPI.Controllers.BooksController (BookstoreAPI).
2024-09-30 11:12:59.376 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[Id] = @__id_0
2024-09-30 11:12:59.380 +05:00 [INF] Action BookstoreAPI.Controllers.BooksController.GetBook (BookstoreAPI) executed in 52ms
2024-09-30 11:12:59.383 +05:00 [INF] Executing OkObjectResult, writing value of type 'BookstoreAPI.Models.DTOs.BookReadDTO'.
2024-09-30 11:12:59.386 +05:00 [INF] Executed action BookstoreAPI.Controllers.BooksController.GetBook (BookstoreAPI) in 117.165ms
2024-09-30 11:12:59.387 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.BooksController.GetBook (BookstoreAPI)'
2024-09-30 11:12:59.389 +05:00 [INF] Outgoing Response: 200
2024-09-30 11:12:59.392 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Books/2 - 200 116 application/json; charset=utf-8 228.9725ms
2024-09-30 11:13:22.324 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Authors - null null
2024-09-30 11:13:22.327 +05:00 [INF] Incoming Request: GET /api/Authors
2024-09-30 11:13:22.329 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.AuthorsController.GetAuthors (BookstoreAPI)'
2024-09-30 11:13:22.339 +05:00 [INF] Route matched with {action = "GetAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookstoreAPI.Models.DTOs.AuthorReadDTO]]] GetAuthors() on controller BookstoreAPI.Controllers.AuthorsController (BookstoreAPI).
2024-09-30 11:13:22.415 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Bio], [a].[Name], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
FROM [Authors] AS [a]
LEFT JOIN [Books] AS [b] ON [a].[Id] = [b].[AuthorId]
ORDER BY [a].[Id]
2024-09-30 11:13:22.432 +05:00 [INF] Action BookstoreAPI.Controllers.AuthorsController.GetAuthors (BookstoreAPI) executed in 83ms
2024-09-30 11:13:22.433 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.DTOs.AuthorReadDTO, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 11:13:22.443 +05:00 [INF] Executed action BookstoreAPI.Controllers.AuthorsController.GetAuthors (BookstoreAPI) in 96.6084ms
2024-09-30 11:13:22.447 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.AuthorsController.GetAuthors (BookstoreAPI)'
2024-09-30 11:13:22.452 +05:00 [INF] Outgoing Response: 200
2024-09-30 11:13:22.453 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Authors - 200 842 application/json; charset=utf-8 129.0809ms
2024-09-30 11:14:49.442 +05:00 [INF] Application is shutting down...
2024-09-30 11:14:59.369 +05:00 [INF] User profile is available. Using 'C:\Users\Abubakar Sabir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 11:15:00.020 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 11:15:00.063 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 11:15:00.066 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 11:15:00.782 +05:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 11:15:00.865 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 11:15:01.002 +05:00 [INF] Now listening on: http://localhost:5296
2024-09-30 11:15:01.005 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 11:15:01.007 +05:00 [INF] Hosting environment: Development
2024-09-30 11:15:01.008 +05:00 [INF] Content root path: E:\House of Technology Office\Bookstore API project learning\BookstoreAPI
2024-09-30 11:15:03.146 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/swagger/index.html - null null
2024-09-30 11:15:03.266 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/swagger/index.html - 200 null text/html;charset=utf-8 120.8753ms
2024-09-30 11:15:03.470 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/swagger/v1/swagger.json - null null
2024-09-30 11:15:03.602 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 132.8802ms
2024-09-30 11:15:55.571 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5296/api/Books/addBook - application/json-patch+json 97
2024-09-30 11:15:55.871 +05:00 [INF] Incoming Request: POST /api/Books/addBook
2024-09-30 11:15:55.916 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-09-30 11:15:55.921 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-30 11:15:55.923 +05:00 [INF] Outgoing Response: 401
2024-09-30 11:15:55.924 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5296/api/Books/addBook - 401 0 null 353.1569ms
2024-09-30 11:17:33.065 +05:00 [INF] Application is shutting down...
2024-09-30 11:17:39.387 +05:00 [INF] User profile is available. Using 'C:\Users\Abubakar Sabir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 11:17:40.252 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 11:17:40.322 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 11:17:40.331 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 11:17:41.178 +05:00 [INF] Executed DbCommand (63ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 11:17:41.298 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 11:17:41.516 +05:00 [INF] Now listening on: http://localhost:5296
2024-09-30 11:17:41.521 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 11:17:41.523 +05:00 [INF] Hosting environment: Development
2024-09-30 11:17:41.525 +05:00 [INF] Content root path: E:\House of Technology Office\Bookstore API project learning\BookstoreAPI
2024-09-30 11:17:51.708 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/swagger/index.html - null null
2024-09-30 11:17:51.822 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/swagger/index.html - 200 null text/html;charset=utf-8 115.1552ms
2024-09-30 11:17:51.916 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/swagger/v1/swagger.json - null null
2024-09-30 11:17:52.048 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 132.7733ms
2024-09-30 12:51:30.660 +05:00 [INF] Application is shutting down...
2024-09-30 12:51:40.749 +05:00 [INF] User profile is available. Using 'C:\Users\Abubakar Sabir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 12:51:41.399 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 12:51:41.454 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 12:51:41.456 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 12:51:42.113 +05:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 12:51:42.205 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 12:51:42.348 +05:00 [INF] Now listening on: http://localhost:5296
2024-09-30 12:51:42.351 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 12:51:42.353 +05:00 [INF] Hosting environment: Development
2024-09-30 12:51:42.354 +05:00 [INF] Content root path: E:\House of Technology Office\Bookstore API project learning\BookstoreAPI
2024-09-30 12:51:45.834 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/swagger/index.html - null null
2024-09-30 12:51:45.968 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/swagger/index.html - 200 null text/html;charset=utf-8 134.2766ms
2024-09-30 12:51:46.098 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/swagger/v1/swagger.json - null null
2024-09-30 12:51:46.243 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 145.1078ms
2024-09-30 12:52:08.977 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Inventory/books - null null
2024-09-30 12:52:08.990 +05:00 [INF] Incoming Request: GET /api/Inventory/books
2024-09-30 12:52:09.157 +05:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-09-30 12:52:09.165 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-30 12:52:09.168 +05:00 [INF] Outgoing Response: 401
2024-09-30 12:52:09.169 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Inventory/books - 401 0 null 192.1412ms
2024-09-30 12:52:49.047 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5296/api/Customer/login - application/json-patch+json 59
2024-09-30 12:52:49.054 +05:00 [INF] Incoming Request: POST /api/Customer/login
2024-09-30 12:52:49.065 +05:00 [WRN] Failed to determine the https port for redirect.
2024-09-30 12:52:49.074 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI)'
2024-09-30 12:52:49.118 +05:00 [INF] Route matched with {action = "Login", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookstoreAPI.Models.DTOs.LoginDTO) on controller BookstoreAPI.Controllers.CustomerController (BookstoreAPI).
2024-09-30 12:52:49.736 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-30 12:52:49.995 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-30 12:52:50.066 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 12:52:50.073 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 12:52:50.198 +05:00 [INF] Executed DbCommand (72ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-30 12:52:50.205 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 12:52:50.233 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-30 12:52:50.249 +05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-09-30 12:52:50.256 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 12:52:50.358 +05:00 [INF] Action BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI) executed in 739ms
2024-09-30 12:52:50.362 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 12:52:50.427 +05:00 [INF] Executed action BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI) in 1300.8893ms
2024-09-30 12:52:50.432 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI)'
2024-09-30 12:52:50.435 +05:00 [INF] Outgoing Response: 200
2024-09-30 12:52:50.443 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5296/api/Customer/login - 200 557 application/json; charset=utf-8 1395.4528ms
2024-09-30 12:53:09.754 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Inventory/books - null null
2024-09-30 12:53:09.759 +05:00 [INF] Incoming Request: GET /api/Inventory/books
2024-09-30 12:53:09.849 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.InventoryController.GetAllBooks (BookstoreAPI)'
2024-09-30 12:53:09.859 +05:00 [INF] Route matched with {action = "GetAllBooks", controller = "Inventory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller BookstoreAPI.Controllers.InventoryController (BookstoreAPI).
2024-09-30 12:53:10.001 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2024-09-30 12:53:10.107 +05:00 [INF] Action BookstoreAPI.Controllers.InventoryController.GetAllBooks (BookstoreAPI) executed in 244ms
2024-09-30 12:53:10.111 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.DTOs.BookReadDTO, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 12:53:10.135 +05:00 [INF] Executed action BookstoreAPI.Controllers.InventoryController.GetAllBooks (BookstoreAPI) in 273.544ms
2024-09-30 12:53:10.139 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.InventoryController.GetAllBooks (BookstoreAPI)'
2024-09-30 12:53:10.143 +05:00 [INF] Outgoing Response: 200
2024-09-30 12:53:10.146 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Inventory/books - 200 587 application/json; charset=utf-8 391.5709ms
2024-09-30 12:53:28.113 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Inventory/book/2 - null null
2024-09-30 12:53:28.120 +05:00 [INF] Incoming Request: GET /api/Inventory/book/2
2024-09-30 12:53:28.129 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.InventoryController.GetBookById (BookstoreAPI)'
2024-09-30 12:53:28.141 +05:00 [INF] Route matched with {action = "GetBookById", controller = "Inventory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller BookstoreAPI.Controllers.InventoryController (BookstoreAPI).
2024-09-30 12:53:28.189 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[Id] = @__id_0
2024-09-30 12:53:28.336 +05:00 [INF] Action BookstoreAPI.Controllers.InventoryController.GetBookById (BookstoreAPI) executed in 185ms
2024-09-30 12:53:28.339 +05:00 [INF] Executing OkObjectResult, writing value of type 'BookstoreAPI.Models.DTOs.BookReadDTO'.
2024-09-30 12:53:28.341 +05:00 [INF] Executed action BookstoreAPI.Controllers.InventoryController.GetBookById (BookstoreAPI) in 197.083ms
2024-09-30 12:53:28.380 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.InventoryController.GetBookById (BookstoreAPI)'
2024-09-30 12:53:28.382 +05:00 [INF] Outgoing Response: 200
2024-09-30 12:53:28.383 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Inventory/book/2 - 200 116 application/json; charset=utf-8 269.7015ms
2024-09-30 12:54:00.651 +05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5296/api/Inventory/book/2/addStock - application/json-patch+json 1
2024-09-30 12:54:00.658 +05:00 [INF] Incoming Request: PUT /api/Inventory/book/2/addStock
2024-09-30 12:54:00.661 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.InventoryController.AddStock (BookstoreAPI)'
2024-09-30 12:54:00.678 +05:00 [INF] Route matched with {action = "AddStock", controller = "Inventory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStock(Int32, Int32) on controller BookstoreAPI.Controllers.InventoryController (BookstoreAPI).
2024-09-30 12:54:00.990 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[Id] = @__id_0
2024-09-30 12:54:00.995 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[Id] = @__id_0
2024-09-30 12:54:01.156 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Books] SET [AuthorId] = @p0, [ISBN] = @p1, [Price] = @p2, [StockQuantity] = @p3, [Title] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-09-30 12:54:01.178 +05:00 [INF] Action BookstoreAPI.Controllers.InventoryController.AddStock (BookstoreAPI) executed in 194ms
2024-09-30 12:54:01.186 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 12:54:01.190 +05:00 [INF] Executed action BookstoreAPI.Controllers.InventoryController.AddStock (BookstoreAPI) in 505.568ms
2024-09-30 12:54:01.193 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.InventoryController.AddStock (BookstoreAPI)'
2024-09-30 12:54:01.194 +05:00 [INF] Outgoing Response: 200
2024-09-30 12:54:01.206 +05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5296/api/Inventory/book/2/addStock - 200 51 application/json; charset=utf-8 545.9755ms
2024-09-30 12:54:14.827 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Inventory/book/2 - null null
2024-09-30 12:54:14.831 +05:00 [INF] Incoming Request: GET /api/Inventory/book/2
2024-09-30 12:54:14.838 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.InventoryController.GetBookById (BookstoreAPI)'
2024-09-30 12:54:14.844 +05:00 [INF] Route matched with {action = "GetBookById", controller = "Inventory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller BookstoreAPI.Controllers.InventoryController (BookstoreAPI).
2024-09-30 12:54:14.851 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[Id] = @__id_0
2024-09-30 12:54:14.862 +05:00 [INF] Action BookstoreAPI.Controllers.InventoryController.GetBookById (BookstoreAPI) executed in 14ms
2024-09-30 12:54:14.863 +05:00 [INF] Executing OkObjectResult, writing value of type 'BookstoreAPI.Models.DTOs.BookReadDTO'.
2024-09-30 12:54:14.864 +05:00 [INF] Executed action BookstoreAPI.Controllers.InventoryController.GetBookById (BookstoreAPI) in 17.9384ms
2024-09-30 12:54:14.876 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.InventoryController.GetBookById (BookstoreAPI)'
2024-09-30 12:54:14.878 +05:00 [INF] Outgoing Response: 200
2024-09-30 12:54:14.879 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Inventory/book/2 - 200 116 application/json; charset=utf-8 51.8043ms
2024-09-30 12:54:29.133 +05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5296/api/Inventory/book/2/removeStock - application/json-patch+json 1
2024-09-30 12:54:29.138 +05:00 [INF] Incoming Request: PUT /api/Inventory/book/2/removeStock
2024-09-30 12:54:29.141 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.InventoryController.RemoveStock (BookstoreAPI)'
2024-09-30 12:54:29.147 +05:00 [INF] Route matched with {action = "RemoveStock", controller = "Inventory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveStock(Int32, Int32) on controller BookstoreAPI.Controllers.InventoryController (BookstoreAPI).
2024-09-30 12:54:29.185 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[Id] = @__id_0
2024-09-30 12:54:29.196 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[Id] = @__id_0
2024-09-30 12:54:29.220 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Books] SET [AuthorId] = @p0, [ISBN] = @p1, [Price] = @p2, [StockQuantity] = @p3, [Title] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-09-30 12:54:29.225 +05:00 [INF] Action BookstoreAPI.Controllers.InventoryController.RemoveStock (BookstoreAPI) executed in 59ms
2024-09-30 12:54:29.228 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 12:54:29.236 +05:00 [INF] Executed action BookstoreAPI.Controllers.InventoryController.RemoveStock (BookstoreAPI) in 72.9737ms
2024-09-30 12:54:29.240 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.InventoryController.RemoveStock (BookstoreAPI)'
2024-09-30 12:54:29.244 +05:00 [INF] Outgoing Response: 200
2024-09-30 12:54:29.246 +05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5296/api/Inventory/book/2/removeStock - 200 51 application/json; charset=utf-8 112.7357ms
2024-09-30 12:54:37.593 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Inventory/book/2 - null null
2024-09-30 12:54:37.597 +05:00 [INF] Incoming Request: GET /api/Inventory/book/2
2024-09-30 12:54:37.604 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.InventoryController.GetBookById (BookstoreAPI)'
2024-09-30 12:54:37.610 +05:00 [INF] Route matched with {action = "GetBookById", controller = "Inventory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller BookstoreAPI.Controllers.InventoryController (BookstoreAPI).
2024-09-30 12:54:37.618 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[Id] = @__id_0
2024-09-30 12:54:37.630 +05:00 [INF] Action BookstoreAPI.Controllers.InventoryController.GetBookById (BookstoreAPI) executed in 14ms
2024-09-30 12:54:37.633 +05:00 [INF] Executing OkObjectResult, writing value of type 'BookstoreAPI.Models.DTOs.BookReadDTO'.
2024-09-30 12:54:37.641 +05:00 [INF] Executed action BookstoreAPI.Controllers.InventoryController.GetBookById (BookstoreAPI) in 28.4489ms
2024-09-30 12:54:37.651 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.InventoryController.GetBookById (BookstoreAPI)'
2024-09-30 12:54:37.652 +05:00 [INF] Outgoing Response: 200
2024-09-30 12:54:37.654 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Inventory/book/2 - 200 116 application/json; charset=utf-8 60.6226ms
2024-09-30 14:05:59.008 +05:00 [INF] Application is shutting down...
2024-09-30 14:06:11.237 +05:00 [INF] User profile is available. Using 'C:\Users\Abubakar Sabir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 14:06:11.889 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 14:06:11.937 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 14:06:11.940 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 14:06:12.556 +05:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 14:06:12.640 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 14:06:12.783 +05:00 [INF] Now listening on: http://localhost:5296
2024-09-30 14:06:12.786 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 14:06:12.788 +05:00 [INF] Hosting environment: Development
2024-09-30 14:06:12.789 +05:00 [INF] Content root path: E:\House of Technology Office\Bookstore API project learning\BookstoreAPI
2024-09-30 14:06:31.719 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/swagger/index.html - null null
2024-09-30 14:06:31.849 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/swagger/index.html - 200 null text/html;charset=utf-8 130.7503ms
2024-09-30 14:06:32.062 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/swagger/v1/swagger.json - null null
2024-09-30 14:06:32.202 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 140.0923ms
2024-09-30 14:06:58.336 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5296/api/Books/search - application/json-patch+json 87
2024-09-30 14:06:58.345 +05:00 [INF] Incoming Request: POST /api/Books/search
2024-09-30 14:06:58.702 +05:00 [WRN] Failed to determine the https port for redirect.
2024-09-30 14:06:58.705 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI)'
2024-09-30 14:06:58.738 +05:00 [INF] Route matched with {action = "SearchBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooks(BookstoreAPI.Models.DTOs.BookSearchDTO) on controller BookstoreAPI.Controllers.BooksController (BookstoreAPI).
2024-09-30 14:06:58.975 +05:00 [INF] Executed DbCommand (20ms) [Parameters=[@__searchDto_MinPrice_Value_0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @__searchDto_MaxPrice_Value_1='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Price] >= @__searchDto_MinPrice_Value_0 AND [b].[Price] <= @__searchDto_MaxPrice_Value_1
2024-09-30 14:06:59.035 +05:00 [INF] Action BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI) executed in 161ms
2024-09-30 14:06:59.039 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.Book, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 14:06:59.130 +05:00 [INF] Executed action BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI) in 374.7621ms
2024-09-30 14:06:59.132 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI)'
2024-09-30 14:06:59.134 +05:00 [INF] Outgoing Response: 200
2024-09-30 14:06:59.150 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5296/api/Books/search - 200 513 application/json; charset=utf-8 813.8709ms
2024-09-30 14:07:50.461 +05:00 [INF] Application is shutting down...
2024-09-30 14:11:59.079 +05:00 [INF] User profile is available. Using 'C:\Users\Abubakar Sabir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 14:12:00.178 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 14:12:00.210 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 14:12:00.210 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 14:12:01.373 +05:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 14:12:01.487 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 14:12:01.816 +05:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-09-30 14:12:01.906 +05:00 [INF] Now listening on: https://localhost:7260
2024-09-30 14:12:01.906 +05:00 [INF] Now listening on: http://localhost:5296
2024-09-30 14:12:01.921 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 14:12:01.922 +05:00 [INF] Hosting environment: Development
2024-09-30 14:12:01.922 +05:00 [INF] Content root path: E:\House of Technology Office\Bookstore API project learning\BookstoreAPI
2024-09-30 14:12:02.687 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/ - null null
2024-09-30 14:12:02.759 +05:00 [INF] Incoming Request: GET /
2024-09-30 14:12:02.920 +05:00 [INF] Outgoing Response: 404
2024-09-30 14:12:02.924 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/ - 404 0 null 239.5694ms
2024-09-30 14:12:02.930 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7260/, Response status code: 404
2024-09-30 14:12:09.683 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/swagger/index.html - null null
2024-09-30 14:12:09.842 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/swagger/index.html - 200 null text/html;charset=utf-8 159.4586ms
2024-09-30 14:12:10.184 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/swagger/v1/swagger.json - null null
2024-09-30 14:12:10.388 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 203.8135ms
2024-09-30 14:13:03.090 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5296/api/Books/search - application/json-patch+json 81
2024-09-30 14:13:03.100 +05:00 [INF] Incoming Request: POST /api/Books/search
2024-09-30 14:13:03.115 +05:00 [INF] Outgoing Response: 307
2024-09-30 14:13:03.116 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5296/api/Books/search - 307 0 null 25.7245ms
2024-09-30 14:13:03.133 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7260/api/Books/search - null null
2024-09-30 14:13:03.135 +05:00 [INF] Incoming Request: OPTIONS /api/Books/search
2024-09-30 14:13:03.139 +05:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-09-30 14:13:03.140 +05:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-09-30 14:13:03.140 +05:00 [INF] Outgoing Response: 405
2024-09-30 14:13:03.140 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7260/api/Books/search - 405 0 null 7.0466ms
2024-09-30 14:13:20.225 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/swagger/index.html - null null
2024-09-30 14:13:20.228 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/swagger/index.html - 200 null text/html;charset=utf-8 2.8026ms
2024-09-30 14:13:20.347 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/swagger/v1/swagger.json - null null
2024-09-30 14:13:20.373 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.1668ms
2024-09-30 14:13:43.584 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5296/api/Books/search - application/json-patch+json 87
2024-09-30 14:13:43.584 +05:00 [INF] Incoming Request: POST /api/Books/search
2024-09-30 14:13:43.584 +05:00 [INF] Outgoing Response: 307
2024-09-30 14:13:43.585 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5296/api/Books/search - 307 0 null 0.9977ms
2024-09-30 14:13:43.608 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7260/api/Books/search - null null
2024-09-30 14:13:43.608 +05:00 [INF] Incoming Request: OPTIONS /api/Books/search
2024-09-30 14:13:43.611 +05:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-09-30 14:13:43.612 +05:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-09-30 14:13:43.613 +05:00 [INF] Outgoing Response: 405
2024-09-30 14:13:43.616 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7260/api/Books/search - 405 0 null 7.5343ms
2024-09-30 14:14:28.451 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5296/api/Customer/login - application/json-patch+json 72
2024-09-30 14:14:28.452 +05:00 [INF] Incoming Request: POST /api/Customer/login
2024-09-30 14:14:28.452 +05:00 [INF] Outgoing Response: 307
2024-09-30 14:14:28.453 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5296/api/Customer/login - 307 0 null 1.7057ms
2024-09-30 14:14:28.500 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7260/api/Customer/login - null null
2024-09-30 14:14:28.501 +05:00 [INF] Incoming Request: OPTIONS /api/Customer/login
2024-09-30 14:14:28.502 +05:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-09-30 14:14:28.502 +05:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-09-30 14:14:28.502 +05:00 [INF] Outgoing Response: 405
2024-09-30 14:14:28.502 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7260/api/Customer/login - 405 0 null 2.0933ms
2024-09-30 14:15:14.308 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/swagger/index.html - null null
2024-09-30 14:15:14.309 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/swagger/index.html - 200 null text/html;charset=utf-8 0.913ms
2024-09-30 14:15:14.627 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/swagger/v1/swagger.json - null null
2024-09-30 14:15:14.917 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 289.2117ms
2024-09-30 14:15:27.769 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Books - null null
2024-09-30 14:15:27.769 +05:00 [INF] Incoming Request: GET /api/Books
2024-09-30 14:15:27.769 +05:00 [INF] Outgoing Response: 307
2024-09-30 14:15:27.770 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Books - 307 0 null 0.9759ms
2024-09-30 14:15:27.787 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Books - null null
2024-09-30 14:15:27.789 +05:00 [INF] Incoming Request: GET /api/Books
2024-09-30 14:15:27.789 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.BooksController.GetBooks (BookstoreAPI)'
2024-09-30 14:15:27.820 +05:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookstoreAPI.Models.DTOs.BookReadDTO]]] GetBooks() on controller BookstoreAPI.Controllers.BooksController (BookstoreAPI).
2024-09-30 14:15:28.198 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2024-09-30 14:15:28.299 +05:00 [INF] Action BookstoreAPI.Controllers.BooksController.GetBooks (BookstoreAPI) executed in 470ms
2024-09-30 14:15:28.310 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.DTOs.BookReadDTO, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 14:15:28.493 +05:00 [INF] Executed action BookstoreAPI.Controllers.BooksController.GetBooks (BookstoreAPI) in 664.4404ms
2024-09-30 14:15:28.494 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.BooksController.GetBooks (BookstoreAPI)'
2024-09-30 14:15:28.496 +05:00 [INF] Outgoing Response: 200
2024-09-30 14:15:28.509 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Books - 200 587 application/json; charset=utf-8 722.3662ms
2024-09-30 14:15:49.407 +05:00 [INF] User profile is available. Using 'C:\Users\Abubakar Sabir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 14:15:50.235 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 14:15:50.275 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 14:15:50.276 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 14:15:51.333 +05:00 [INF] Executed DbCommand (89ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 14:15:51.451 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 14:15:51.782 +05:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-09-30 14:15:51.827 +05:00 [INF] Now listening on: https://localhost:7260
2024-09-30 14:15:51.827 +05:00 [INF] Now listening on: http://localhost:5296
2024-09-30 14:15:51.830 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 14:15:51.831 +05:00 [INF] Hosting environment: Development
2024-09-30 14:15:51.831 +05:00 [INF] Content root path: E:\House of Technology Office\Bookstore API project learning\BookstoreAPI
2024-09-30 14:15:52.343 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/ - null null
2024-09-30 14:15:52.406 +05:00 [INF] Incoming Request: GET /
2024-09-30 14:15:52.530 +05:00 [INF] Outgoing Response: 404
2024-09-30 14:15:52.534 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/ - 404 0 null 193.0876ms
2024-09-30 14:15:52.542 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7260/, Response status code: 404
2024-09-30 14:15:57.662 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger - null null
2024-09-30 14:15:57.666 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger - 301 0 null 4.4331ms
2024-09-30 14:15:57.671 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2024-09-30 14:15:57.814 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 142.9918ms
2024-09-30 14:15:57.833 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/swagger-ui.css - null null
2024-09-30 14:15:57.841 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/swagger-ui-bundle.js - null null
2024-09-30 14:15:57.841 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/swagger-ui-standalone-preset.js - null null
2024-09-30 14:15:57.926 +05:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-09-30 14:15:57.926 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/swagger-ui.css - 200 143943 text/css 93.0433ms
2024-09-30 14:15:57.947 +05:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-09-30 14:15:57.948 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 106.6624ms
2024-09-30 14:15:57.967 +05:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-09-30 14:15:57.968 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 126.9581ms
2024-09-30 14:15:58.242 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2024-09-30 14:15:58.406 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 164.1189ms
2024-09-30 14:16:11.996 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Books - null null
2024-09-30 14:16:12.001 +05:00 [INF] Incoming Request: GET /api/Books
2024-09-30 14:16:12.008 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.BooksController.GetBooks (BookstoreAPI)'
2024-09-30 14:16:12.038 +05:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookstoreAPI.Models.DTOs.BookReadDTO]]] GetBooks() on controller BookstoreAPI.Controllers.BooksController (BookstoreAPI).
2024-09-30 14:16:12.279 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2024-09-30 14:16:12.380 +05:00 [INF] Action BookstoreAPI.Controllers.BooksController.GetBooks (BookstoreAPI) executed in 333ms
2024-09-30 14:16:12.386 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.DTOs.BookReadDTO, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 14:16:12.582 +05:00 [INF] Executed action BookstoreAPI.Controllers.BooksController.GetBooks (BookstoreAPI) in 539.1993ms
2024-09-30 14:16:12.582 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.BooksController.GetBooks (BookstoreAPI)'
2024-09-30 14:16:12.583 +05:00 [INF] Outgoing Response: 200
2024-09-30 14:16:12.591 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Books - 200 587 application/json; charset=utf-8 594.6416ms
2024-09-30 14:16:34.703 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Books/search - application/json-patch+json 87
2024-09-30 14:16:34.706 +05:00 [INF] Incoming Request: POST /api/Books/search
2024-09-30 14:16:34.709 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI)'
2024-09-30 14:16:34.724 +05:00 [INF] Route matched with {action = "SearchBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooks(BookstoreAPI.Models.DTOs.BookSearchDTO) on controller BookstoreAPI.Controllers.BooksController (BookstoreAPI).
2024-09-30 14:18:31.425 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__searchDto_MinPrice_Value_0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @__searchDto_MaxPrice_Value_1='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Price] >= @__searchDto_MinPrice_Value_0 AND [b].[Price] <= @__searchDto_MaxPrice_Value_1
2024-09-30 14:19:52.749 +05:00 [INF] Action BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI) executed in 197919ms
2024-09-30 14:19:52.751 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.Book, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 14:19:52.760 +05:00 [INF] Executed action BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI) in 198035.8191ms
2024-09-30 14:19:52.760 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI)'
2024-09-30 14:19:52.760 +05:00 [INF] Outgoing Response: 200
2024-09-30 14:19:52.761 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Books/search - 200 513 application/json; charset=utf-8 198057.6611ms
2024-09-30 14:21:48.279 +05:00 [INF] User profile is available. Using 'C:\Users\Abubakar Sabir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 14:21:49.052 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 14:21:49.090 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 14:21:49.090 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 14:21:49.990 +05:00 [INF] Executed DbCommand (73ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 14:21:50.103 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 14:21:50.538 +05:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-09-30 14:21:50.579 +05:00 [INF] Now listening on: https://localhost:7260
2024-09-30 14:21:50.579 +05:00 [INF] Now listening on: http://localhost:5296
2024-09-30 14:21:50.584 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 14:21:50.585 +05:00 [INF] Hosting environment: Development
2024-09-30 14:21:50.585 +05:00 [INF] Content root path: E:\House of Technology Office\Bookstore API project learning\BookstoreAPI
2024-09-30 14:21:51.051 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/ - null null
2024-09-30 14:21:51.153 +05:00 [INF] Incoming Request: GET /
2024-09-30 14:21:51.248 +05:00 [INF] Outgoing Response: 404
2024-09-30 14:21:51.252 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/ - 404 0 null 208.2438ms
2024-09-30 14:21:51.258 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7260/, Response status code: 404
2024-09-30 14:21:56.483 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Books/search - application/json-patch+json 87
2024-09-30 14:21:56.489 +05:00 [INF] Incoming Request: POST /api/Books/search
2024-09-30 14:21:56.492 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI)'
2024-09-30 14:21:56.532 +05:00 [INF] Route matched with {action = "SearchBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooks(BookstoreAPI.Models.DTOs.BookSearchDTO) on controller BookstoreAPI.Controllers.BooksController (BookstoreAPI).
2024-09-30 14:23:24.124 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__searchDto_MinPrice_Value_0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @__searchDto_MaxPrice_Value_1='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Price] >= @__searchDto_MinPrice_Value_0 AND [b].[Price] <= @__searchDto_MaxPrice_Value_1
2024-09-30 14:23:48.753 +05:00 [INF] Action BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI) executed in 112024ms
2024-09-30 14:23:48.768 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.Book, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 14:23:48.857 +05:00 [INF] Executed action BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI) in 112314.7301ms
2024-09-30 14:23:48.858 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI)'
2024-09-30 14:23:48.859 +05:00 [INF] Outgoing Response: 200
2024-09-30 14:23:48.869 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Books/search - 200 513 application/json; charset=utf-8 112386.636ms
2024-09-30 14:23:57.237 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2024-09-30 14:23:57.367 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 129.7777ms
2024-09-30 14:23:57.389 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/swagger-ui.css - null null
2024-09-30 14:23:57.394 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/swagger-ui-bundle.js - null null
2024-09-30 14:23:57.397 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/swagger-ui-standalone-preset.js - null null
2024-09-30 14:23:57.447 +05:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-09-30 14:23:57.447 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/swagger-ui.css - 200 143943 text/css 58.3108ms
2024-09-30 14:23:57.457 +05:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-09-30 14:23:57.458 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 60.6866ms
2024-09-30 14:23:57.476 +05:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-09-30 14:23:57.477 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 82.8532ms
2024-09-30 14:23:57.687 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2024-09-30 14:23:57.694 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/favicon-32x32.png - null null
2024-09-30 14:23:57.695 +05:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-09-30 14:23:57.695 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/favicon-32x32.png - 200 628 image/png 0.8937ms
2024-09-30 14:23:57.868 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 180.7237ms
2024-09-30 14:24:26.219 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Books/search - application/json-patch+json 87
2024-09-30 14:24:26.223 +05:00 [INF] Incoming Request: POST /api/Books/search
2024-09-30 14:24:26.228 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI)'
2024-09-30 14:24:26.229 +05:00 [INF] Route matched with {action = "SearchBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooks(BookstoreAPI.Models.DTOs.BookSearchDTO) on controller BookstoreAPI.Controllers.BooksController (BookstoreAPI).
2024-09-30 14:24:41.685 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__searchDto_MinPrice_Value_0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @__searchDto_MaxPrice_Value_1='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Price] >= @__searchDto_MinPrice_Value_0 AND [b].[Price] <= @__searchDto_MaxPrice_Value_1
2024-09-30 14:24:41.686 +05:00 [INF] Action BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI) executed in 15449ms
2024-09-30 14:24:41.689 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.Book, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 14:24:41.690 +05:00 [INF] Executed action BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI) in 15460.4307ms
2024-09-30 14:24:41.690 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI)'
2024-09-30 14:24:41.690 +05:00 [INF] Outgoing Response: 200
2024-09-30 14:24:41.691 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Books/search - 200 513 application/json; charset=utf-8 15472.5677ms
2024-09-30 14:27:52.434 +05:00 [INF] User profile is available. Using 'C:\Users\Abubakar Sabir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 14:27:53.314 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 14:27:53.361 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 14:27:53.361 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 14:27:54.326 +05:00 [INF] Executed DbCommand (63ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 14:27:54.414 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 14:27:54.744 +05:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-09-30 14:27:54.788 +05:00 [INF] Now listening on: https://localhost:7260
2024-09-30 14:27:54.789 +05:00 [INF] Now listening on: http://localhost:5296
2024-09-30 14:27:54.792 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 14:27:54.793 +05:00 [INF] Hosting environment: Development
2024-09-30 14:27:54.793 +05:00 [INF] Content root path: E:\House of Technology Office\Bookstore API project learning\BookstoreAPI
2024-09-30 14:27:55.352 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/ - null null
2024-09-30 14:27:55.428 +05:00 [INF] Incoming Request: GET /
2024-09-30 14:27:55.526 +05:00 [INF] Outgoing Response: 404
2024-09-30 14:27:55.530 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/ - 404 0 null 179.9424ms
2024-09-30 14:27:55.535 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7260/, Response status code: 404
2024-09-30 14:27:59.081 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger - null null
2024-09-30 14:27:59.085 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger - 301 0 null 3.9862ms
2024-09-30 14:27:59.090 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2024-09-30 14:27:59.216 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 126.1033ms
2024-09-30 14:27:59.240 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/swagger-ui.css - null null
2024-09-30 14:27:59.240 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/swagger-ui-bundle.js - null null
2024-09-30 14:27:59.245 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/swagger-ui-standalone-preset.js - null null
2024-09-30 14:27:59.277 +05:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-09-30 14:27:59.277 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/swagger-ui.css - 200 143943 text/css 37.5279ms
2024-09-30 14:27:59.280 +05:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-09-30 14:27:59.280 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 35.3215ms
2024-09-30 14:27:59.298 +05:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-09-30 14:27:59.299 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 59.095ms
2024-09-30 14:27:59.606 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2024-09-30 14:27:59.815 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 209.0551ms
2024-09-30 14:28:25.067 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Books/search - application/json-patch+json 87
2024-09-30 14:28:25.074 +05:00 [INF] Incoming Request: POST /api/Books/search
2024-09-30 14:28:25.079 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI)'
2024-09-30 14:28:25.110 +05:00 [INF] Route matched with {action = "SearchBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooks(BookstoreAPI.Models.DTOs.BookSearchDTO) on controller BookstoreAPI.Controllers.BooksController (BookstoreAPI).
2024-09-30 14:28:46.738 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-30 14:28:46.771 +05:00 [INF] Executed DbCommand (20ms) [Parameters=[@__searchDto_MinPrice_Value_0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @__searchDto_MaxPrice_Value_1='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name], [o].[OrderId], [o].[BookId], [o].[Quantity], [o].[UnitPrice], [r].[Id], [r].[BookId], [r].[CustomerId], [r].[Rating], [r].[ReviewText]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
LEFT JOIN [OrderDetails] AS [o] ON [b].[Id] = [o].[BookId]
LEFT JOIN [Reviews] AS [r] ON [b].[Id] = [r].[BookId]
WHERE [b].[Price] >= @__searchDto_MinPrice_Value_0 AND [b].[Price] <= @__searchDto_MaxPrice_Value_1
ORDER BY [b].[Id], [a].[Id], [o].[OrderId], [o].[BookId]
2024-09-30 14:28:46.860 +05:00 [INF] Action BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI) executed in 21545ms
2024-09-30 14:28:46.864 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.Book, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 14:28:46.932 +05:00 [INF] Executed action BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI) in 21811.0962ms
2024-09-30 14:28:46.933 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI)'
2024-09-30 14:28:46.935 +05:00 [INF] Outgoing Response: 200
2024-09-30 14:28:46.941 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Books/search - 200 1451 application/json; charset=utf-8 21873.7757ms
2024-09-30 14:30:59.943 +05:00 [INF] User profile is available. Using 'C:\Users\Abubakar Sabir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 14:31:00.889 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 14:31:00.928 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 14:31:00.929 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 14:31:02.000 +05:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 14:31:02.135 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 14:31:02.471 +05:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-09-30 14:31:02.517 +05:00 [INF] Now listening on: https://localhost:7260
2024-09-30 14:31:02.517 +05:00 [INF] Now listening on: http://localhost:5296
2024-09-30 14:31:02.520 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 14:31:02.521 +05:00 [INF] Hosting environment: Development
2024-09-30 14:31:02.521 +05:00 [INF] Content root path: E:\House of Technology Office\Bookstore API project learning\BookstoreAPI
2024-09-30 14:31:03.007 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/ - null null
2024-09-30 14:31:03.084 +05:00 [INF] Incoming Request: GET /
2024-09-30 14:31:03.189 +05:00 [INF] Outgoing Response: 404
2024-09-30 14:31:03.195 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/ - 404 0 null 189.928ms
2024-09-30 14:31:03.200 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7260/, Response status code: 404
2024-09-30 14:31:05.254 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2024-09-30 14:31:05.381 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 126.1054ms
2024-09-30 14:31:05.393 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/swagger-ui.css - null null
2024-09-30 14:31:05.394 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/swagger-ui-standalone-preset.js - null null
2024-09-30 14:31:05.394 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/swagger-ui-bundle.js - null null
2024-09-30 14:31:05.445 +05:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-09-30 14:31:05.446 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 51.3152ms
2024-09-30 14:31:05.461 +05:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-09-30 14:31:05.502 +05:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-09-30 14:31:05.503 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/swagger-ui.css - 200 143943 text/css 109.0929ms
2024-09-30 14:31:05.503 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 108.2543ms
2024-09-30 14:31:05.643 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2024-09-30 14:31:05.652 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/favicon-32x32.png - null null
2024-09-30 14:31:05.653 +05:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-09-30 14:31:05.653 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/favicon-32x32.png - 200 628 image/png 1.1143ms
2024-09-30 14:31:05.813 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 169.9608ms
2024-09-30 14:31:42.440 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Books/search - application/json-patch+json 87
2024-09-30 14:31:42.447 +05:00 [INF] Incoming Request: POST /api/Books/search
2024-09-30 14:31:42.487 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI)'
2024-09-30 14:31:42.534 +05:00 [INF] Route matched with {action = "SearchBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooks(BookstoreAPI.Models.DTOs.BookSearchDTO) on controller BookstoreAPI.Controllers.BooksController (BookstoreAPI).
2024-09-30 14:31:47.962 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@__searchDto_MinPrice_Value_0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @__searchDto_MaxPrice_Value_1='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name], [r].[Id], [r].[BookId], [r].[CustomerId], [r].[Rating], [r].[ReviewText]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
LEFT JOIN [Reviews] AS [r] ON [b].[Id] = [r].[BookId]
WHERE [b].[Price] >= @__searchDto_MinPrice_Value_0 AND [b].[Price] <= @__searchDto_MaxPrice_Value_1
ORDER BY [b].[Id], [a].[Id]
2024-09-30 14:31:48.040 +05:00 [INF] Action BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI) executed in 5190ms
2024-09-30 14:31:48.047 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.Book, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 14:31:48.131 +05:00 [INF] Executed action BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI) in 5587.8181ms
2024-09-30 14:31:48.131 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI)'
2024-09-30 14:31:48.133 +05:00 [INF] Outgoing Response: 200
2024-09-30 14:31:48.142 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Books/search - 200 1247 application/json; charset=utf-8 5702.8449ms
2024-09-30 14:39:16.300 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Books/search - application/json-patch+json 100
2024-09-30 14:39:16.303 +05:00 [INF] Incoming Request: POST /api/Books/search
2024-09-30 14:39:16.307 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI)'
2024-09-30 14:39:16.308 +05:00 [INF] Route matched with {action = "SearchBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooks(BookstoreAPI.Models.DTOs.BookSearchDTO) on controller BookstoreAPI.Controllers.BooksController (BookstoreAPI).
2024-09-30 14:39:21.209 +05:00 [INF] Executed DbCommand (35ms) [Parameters=[@__searchDto_ISBN_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name], [r].[Id], [r].[BookId], [r].[CustomerId], [r].[Rating], [r].[ReviewText]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
LEFT JOIN [Reviews] AS [r] ON [b].[Id] = [r].[BookId]
WHERE [b].[ISBN] = @__searchDto_ISBN_0
ORDER BY [b].[Id], [a].[Id]
2024-09-30 14:39:21.210 +05:00 [INF] Action BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI) executed in 4894ms
2024-09-30 14:39:21.211 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.Book, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 14:39:21.212 +05:00 [INF] Executed action BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI) in 4904.5299ms
2024-09-30 14:39:21.213 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI)'
2024-09-30 14:39:21.213 +05:00 [INF] Outgoing Response: 200
2024-09-30 14:39:21.213 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Books/search - 200 447 application/json; charset=utf-8 4913.2933ms
2024-09-30 14:39:45.206 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Books/search - application/json-patch+json 100
2024-09-30 14:39:45.207 +05:00 [INF] Incoming Request: POST /api/Books/search
2024-09-30 14:39:45.207 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI)'
2024-09-30 14:39:45.207 +05:00 [INF] Route matched with {action = "SearchBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooks(BookstoreAPI.Models.DTOs.BookSearchDTO) on controller BookstoreAPI.Controllers.BooksController (BookstoreAPI).
2024-09-30 14:39:51.313 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__searchDto_Author_0_contains='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name], [r].[Id], [r].[BookId], [r].[CustomerId], [r].[Rating], [r].[ReviewText]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
LEFT JOIN [Reviews] AS [r] ON [b].[Id] = [r].[BookId]
WHERE [a].[Name] LIKE @__searchDto_Author_0_contains ESCAPE N'\'
ORDER BY [b].[Id], [a].[Id]
2024-09-30 14:39:51.316 +05:00 [INF] Action BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI) executed in 6101ms
2024-09-30 14:39:51.316 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.Book, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 14:39:51.317 +05:00 [INF] Executed action BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI) in 6109.4685ms
2024-09-30 14:39:51.318 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI)'
2024-09-30 14:39:51.319 +05:00 [INF] Outgoing Response: 200
2024-09-30 14:39:51.319 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Books/search - 200 447 application/json; charset=utf-8 6113.3549ms
2024-09-30 14:40:04.172 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Authors - null null
2024-09-30 14:40:04.175 +05:00 [INF] Incoming Request: GET /api/Authors
2024-09-30 14:40:04.176 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.AuthorsController.GetAuthors (BookstoreAPI)'
2024-09-30 14:40:04.190 +05:00 [INF] Route matched with {action = "GetAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookstoreAPI.Models.DTOs.AuthorReadDTO]]] GetAuthors() on controller BookstoreAPI.Controllers.AuthorsController (BookstoreAPI).
2024-09-30 14:40:04.210 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Bio], [a].[Name], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
FROM [Authors] AS [a]
LEFT JOIN [Books] AS [b] ON [a].[Id] = [b].[AuthorId]
ORDER BY [a].[Id]
2024-09-30 14:40:04.216 +05:00 [INF] Action BookstoreAPI.Controllers.AuthorsController.GetAuthors (BookstoreAPI) executed in 24ms
2024-09-30 14:40:04.218 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.DTOs.AuthorReadDTO, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 14:40:04.222 +05:00 [INF] Executed action BookstoreAPI.Controllers.AuthorsController.GetAuthors (BookstoreAPI) in 32.0614ms
2024-09-30 14:40:04.222 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.AuthorsController.GetAuthors (BookstoreAPI)'
2024-09-30 14:40:04.222 +05:00 [INF] Outgoing Response: 200
2024-09-30 14:40:04.222 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Authors - 200 842 application/json; charset=utf-8 50.4618ms
2024-09-30 14:40:19.139 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Books/search - application/json-patch+json 99
2024-09-30 14:40:19.140 +05:00 [INF] Incoming Request: POST /api/Books/search
2024-09-30 14:40:19.140 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI)'
2024-09-30 14:40:19.140 +05:00 [INF] Route matched with {action = "SearchBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooks(BookstoreAPI.Models.DTOs.BookSearchDTO) on controller BookstoreAPI.Controllers.BooksController (BookstoreAPI).
2024-09-30 14:40:24.248 +05:00 [INF] Executed DbCommand (16ms) [Parameters=[@__searchDto_Author_0_contains='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name], [r].[Id], [r].[BookId], [r].[CustomerId], [r].[Rating], [r].[ReviewText]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
LEFT JOIN [Reviews] AS [r] ON [b].[Id] = [r].[BookId]
WHERE [a].[Name] LIKE @__searchDto_Author_0_contains ESCAPE N'\'
ORDER BY [b].[Id], [a].[Id]
2024-09-30 14:40:24.249 +05:00 [INF] Action BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI) executed in 5108ms
2024-09-30 14:40:24.250 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.Book, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 14:40:24.251 +05:00 [INF] Executed action BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI) in 5111.0574ms
2024-09-30 14:40:24.252 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI)'
2024-09-30 14:40:24.252 +05:00 [INF] Outgoing Response: 200
2024-09-30 14:40:24.252 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Books/search - 200 2194 application/json; charset=utf-8 5112.5462ms
2024-09-30 14:40:52.317 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Books/search - application/json-patch+json 108
2024-09-30 14:40:52.318 +05:00 [INF] Incoming Request: POST /api/Books/search
2024-09-30 14:40:52.322 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI)'
2024-09-30 14:40:52.323 +05:00 [INF] Route matched with {action = "SearchBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooks(BookstoreAPI.Models.DTOs.BookSearchDTO) on controller BookstoreAPI.Controllers.BooksController (BookstoreAPI).
2024-09-30 14:40:52.362 +05:00 [INF] Executed DbCommand (17ms) [Parameters=[@__searchDto_Title_0_contains='?' (Size = 4000), @__searchDto_Author_1_contains='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name], [r].[Id], [r].[BookId], [r].[CustomerId], [r].[Rating], [r].[ReviewText]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
LEFT JOIN [Reviews] AS [r] ON [b].[Id] = [r].[BookId]
WHERE [b].[Title] LIKE @__searchDto_Title_0_contains ESCAPE N'\' AND [a].[Name] LIKE @__searchDto_Author_1_contains ESCAPE N'\'
ORDER BY [b].[Id], [a].[Id]
2024-09-30 14:40:52.364 +05:00 [INF] Action BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI) executed in 38ms
2024-09-30 14:40:52.365 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.Book, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 14:40:52.366 +05:00 [INF] Executed action BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI) in 42.4909ms
2024-09-30 14:40:52.366 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.BooksController.SearchBooks (BookstoreAPI)'
2024-09-30 14:40:52.366 +05:00 [INF] Outgoing Response: 200
2024-09-30 14:40:52.367 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Books/search - 200 428 application/json; charset=utf-8 49.1207ms
2024-09-30 15:22:40.058 +05:00 [INF] User profile is available. Using 'C:\Users\Abubakar Sabir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 15:22:40.945 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 15:22:41.007 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:22:41.007 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:22:42.275 +05:00 [INF] Executed DbCommand (111ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 15:22:42.379 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 15:22:42.711 +05:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-09-30 15:22:42.761 +05:00 [INF] Now listening on: https://localhost:7260
2024-09-30 15:22:42.761 +05:00 [INF] Now listening on: http://localhost:5296
2024-09-30 15:22:42.764 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 15:22:42.765 +05:00 [INF] Hosting environment: Development
2024-09-30 15:22:42.765 +05:00 [INF] Content root path: E:\House of Technology Office\Bookstore API project learning\BookstoreAPI
2024-09-30 15:22:43.330 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/ - null null
2024-09-30 15:22:43.460 +05:00 [INF] Incoming Request: GET /
2024-09-30 15:22:43.592 +05:00 [INF] Outgoing Response: 404
2024-09-30 15:22:43.597 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/ - 404 0 null 270.6873ms
2024-09-30 15:22:43.605 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7260/, Response status code: 404
2024-09-30 15:22:46.978 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2024-09-30 15:22:47.097 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 118.6533ms
2024-09-30 15:22:47.111 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/swagger-ui.css - null null
2024-09-30 15:22:47.111 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/swagger-ui-bundle.js - null null
2024-09-30 15:22:47.111 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/swagger-ui-standalone-preset.js - null null
2024-09-30 15:22:47.139 +05:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-09-30 15:22:47.139 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/swagger-ui.css - 200 143943 text/css 28.8025ms
2024-09-30 15:22:47.171 +05:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-09-30 15:22:47.171 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 60.0263ms
2024-09-30 15:22:47.202 +05:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-09-30 15:22:47.203 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 91.4954ms
2024-09-30 15:22:47.468 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2024-09-30 15:22:47.486 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/favicon-32x32.png - null null
2024-09-30 15:22:47.489 +05:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-09-30 15:22:47.493 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/favicon-32x32.png - 200 628 image/png 6.7757ms
2024-09-30 15:22:47.634 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 166.4564ms
2024-09-30 15:23:32.625 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Customer/login - application/json-patch+json 59
2024-09-30 15:23:32.666 +05:00 [INF] Incoming Request: POST /api/Customer/login
2024-09-30 15:23:32.672 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI)'
2024-09-30 15:23:32.725 +05:00 [INF] Route matched with {action = "Login", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookstoreAPI.Models.DTOs.LoginDTO) on controller BookstoreAPI.Controllers.CustomerController (BookstoreAPI).
2024-09-30 15:23:33.464 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-30 15:23:33.856 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-30 15:23:33.909 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 15:23:33.922 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 15:23:33.949 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-30 15:23:33.958 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 15:23:33.966 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-30 15:23:34.007 +05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-09-30 15:23:34.018 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 15:23:34.179 +05:00 [INF] Action BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI) executed in 1172ms
2024-09-30 15:23:34.190 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 15:23:34.264 +05:00 [INF] Executed action BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI) in 1531.6044ms
2024-09-30 15:23:34.267 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI)'
2024-09-30 15:23:34.272 +05:00 [INF] Outgoing Response: 200
2024-09-30 15:23:34.279 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Customer/login - 200 557 application/json; charset=utf-8 1654.4391ms
2024-09-30 15:24:04.312 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Order - null null
2024-09-30 15:24:04.316 +05:00 [INF] Incoming Request: GET /api/Order
2024-09-30 15:24:04.429 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 15:24:04.439 +05:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrders() on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 15:24:04.640 +05:00 [ERR] Failed executing DbCommand (27ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CancellationReason], [o].[CustomerId], [o].[CustomerId1], [o].[OrderDate], [o].[ReturnReason], [o].[Status], [t].[OrderId], [t].[BookId], [t].[Quantity], [t].[UnitPrice], [t].[Id], [t].[AuthorId], [t].[ISBN], [t].[Price], [t].[StockQuantity], [t].[Title]
FROM [Orders] AS [o]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[BookId], [o0].[Quantity], [o0].[UnitPrice], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
    FROM [OrderDetails] AS [o0]
    INNER JOIN [Books] AS [b] ON [o0].[BookId] = [b].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE [o].[CustomerId] = @__customerId_0
ORDER BY [o].[Id], [t].[OrderId], [t].[BookId]
2024-09-30 15:24:04.706 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'BookstoreAPI.Models.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CancellationReason'.
Invalid column name 'ReturnReason'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:643e7376-02b7-4e3f-9d29-bc7d53a72d6d
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CancellationReason'.
Invalid column name 'ReturnReason'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:643e7376-02b7-4e3f-9d29-bc7d53a72d6d
Error Number:207,State:1,Class:16
2024-09-30 15:24:04.967 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) executed in 525ms
2024-09-30 15:24:04.969 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) in 529.489ms
2024-09-30 15:24:04.971 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 15:24:05.126 +05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CancellationReason'.
Invalid column name 'ReturnReason'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BookstoreAPI.Repositories.OrderRepository.GetOrdersByCustomerAsync(String customerId) in E:\House of Technology Office\Bookstore API project learning\BookstoreAPI\Repositories\OrderRepository.cs:line 26
   at BookstoreAPI.Services.OrderService.GetOrdersByCustomerAsync(String customerId) in E:\House of Technology Office\Bookstore API project learning\BookstoreAPI\Services\OrderService.cs:line 55
   at BookstoreAPI.Controllers.OrderController.GetOrders() in E:\House of Technology Office\Bookstore API project learning\BookstoreAPI\Controllers\OrderController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookstoreAPI.Middleware.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in E:\House of Technology Office\Bookstore API project learning\BookstoreAPI\Middleware\RequestResponseLoggingMiddleware.cs:line 22
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:643e7376-02b7-4e3f-9d29-bc7d53a72d6d
Error Number:207,State:1,Class:16
2024-09-30 15:24:05.172 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Order - 500 null text/plain; charset=utf-8 860.449ms
2024-09-30 15:26:35.365 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 15:26:35.461 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:26:35.463 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:26:35.820 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 15:26:35.826 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:26:35.828 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:30:50.872 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 15:30:51.010 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:30:51.012 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:30:51.241 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 15:30:51.251 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:30:51.254 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:31:24.221 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 15:31:24.306 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:31:24.309 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:31:24.781 +05:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 15:31:24.818 +05:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 15:31:24.823 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 15:31:24.827 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 15:31:24.848 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-30 15:31:24.867 +05:00 [INF] Applying migration '20240930103051_UpdateOrderForCancelation'.
2024-09-30 15:31:24.954 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240930103051_UpdateOrderForCancelation', N'8.0.8');
2024-09-30 15:31:51.289 +05:00 [INF] User profile is available. Using 'C:\Users\Abubakar Sabir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 15:31:51.870 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 15:31:51.905 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:31:51.907 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:31:52.537 +05:00 [INF] Executed DbCommand (44ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 15:31:52.631 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 15:31:52.811 +05:00 [INF] Now listening on: http://localhost:5296
2024-09-30 15:31:52.816 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 15:31:52.818 +05:00 [INF] Hosting environment: Development
2024-09-30 15:31:52.819 +05:00 [INF] Content root path: E:\House of Technology Office\Bookstore API project learning\BookstoreAPI
2024-09-30 15:31:55.347 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/ - null null
2024-09-30 15:31:55.480 +05:00 [INF] Incoming Request: GET /
2024-09-30 15:31:55.511 +05:00 [WRN] Failed to determine the https port for redirect.
2024-09-30 15:31:55.513 +05:00 [INF] Outgoing Response: 404
2024-09-30 15:31:55.519 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/ - 404 0 null 180.7361ms
2024-09-30 15:31:55.549 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5296/, Response status code: 404
2024-09-30 15:31:59.610 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/swagger/index.html - null null
2024-09-30 15:31:59.752 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/swagger/index.html - 200 null text/html;charset=utf-8 142.2654ms
2024-09-30 15:32:00.008 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/swagger/v1/swagger.json - null null
2024-09-30 15:32:00.162 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 154.2165ms
2024-09-30 15:32:22.320 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5296/api/Customer/login - application/json-patch+json 59
2024-09-30 15:32:22.338 +05:00 [INF] Incoming Request: POST /api/Customer/login
2024-09-30 15:32:22.355 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI)'
2024-09-30 15:32:22.398 +05:00 [INF] Route matched with {action = "Login", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookstoreAPI.Models.DTOs.LoginDTO) on controller BookstoreAPI.Controllers.CustomerController (BookstoreAPI).
2024-09-30 15:32:22.587 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-30 15:32:22.861 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-30 15:32:22.900 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 15:32:22.907 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 15:32:22.935 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-30 15:32:22.968 +05:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 15:32:22.987 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-30 15:32:23.027 +05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-09-30 15:32:23.051 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 15:32:23.100 +05:00 [INF] Action BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI) executed in 581ms
2024-09-30 15:32:23.105 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 15:32:23.185 +05:00 [INF] Executed action BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI) in 769.7264ms
2024-09-30 15:32:23.188 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI)'
2024-09-30 15:32:23.190 +05:00 [INF] Outgoing Response: 200
2024-09-30 15:32:23.206 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5296/api/Customer/login - 200 557 application/json; charset=utf-8 885.852ms
2024-09-30 15:32:49.303 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Order - null null
2024-09-30 15:32:49.310 +05:00 [INF] Incoming Request: GET /api/Order
2024-09-30 15:32:49.373 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 15:32:49.383 +05:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrders() on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 15:32:49.517 +05:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CancellationReason], [o].[CustomerId], [o].[CustomerId1], [o].[OrderDate], [o].[ReturnReason], [o].[Status], [t].[OrderId], [t].[BookId], [t].[Quantity], [t].[UnitPrice], [t].[Id], [t].[AuthorId], [t].[ISBN], [t].[Price], [t].[StockQuantity], [t].[Title]
FROM [Orders] AS [o]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[BookId], [o0].[Quantity], [o0].[UnitPrice], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
    FROM [OrderDetails] AS [o0]
    INNER JOIN [Books] AS [b] ON [o0].[BookId] = [b].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE [o].[CustomerId] = @__customerId_0
ORDER BY [o].[Id], [t].[OrderId], [t].[BookId]
2024-09-30 15:32:49.555 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'BookstoreAPI.Models.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CancellationReason'.
Invalid column name 'ReturnReason'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:140bacb0-d02c-4417-8bed-34ffd25694b5
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CancellationReason'.
Invalid column name 'ReturnReason'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:140bacb0-d02c-4417-8bed-34ffd25694b5
Error Number:207,State:1,Class:16
2024-09-30 15:32:49.613 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) executed in 225ms
2024-09-30 15:32:49.616 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) in 229.9439ms
2024-09-30 15:32:49.618 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 15:32:49.627 +05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CancellationReason'.
Invalid column name 'ReturnReason'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BookstoreAPI.Repositories.OrderRepository.GetOrdersByCustomerAsync(String customerId) in E:\House of Technology Office\Bookstore API project learning\BookstoreAPI\Repositories\OrderRepository.cs:line 26
   at BookstoreAPI.Services.OrderService.GetOrdersByCustomerAsync(String customerId) in E:\House of Technology Office\Bookstore API project learning\BookstoreAPI\Services\OrderService.cs:line 55
   at BookstoreAPI.Controllers.OrderController.GetOrders() in E:\House of Technology Office\Bookstore API project learning\BookstoreAPI\Controllers\OrderController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookstoreAPI.Middleware.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in E:\House of Technology Office\Bookstore API project learning\BookstoreAPI\Middleware\RequestResponseLoggingMiddleware.cs:line 22
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:140bacb0-d02c-4417-8bed-34ffd25694b5
Error Number:207,State:1,Class:16
2024-09-30 15:32:49.724 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Order - 500 null text/plain; charset=utf-8 420.97ms
2024-09-30 15:34:05.111 +05:00 [INF] Application is shutting down...
2024-09-30 15:34:19.310 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 15:34:19.399 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:34:19.402 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:34:19.807 +05:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 15:34:19.834 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 15:34:19.840 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 15:34:19.844 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 15:34:19.867 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-30 15:34:19.888 +05:00 [INF] Applying migration '20240930102638_UpdateOrderForCancelation'.
2024-09-30 15:34:20.030 +05:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Orders] ADD [CancellationReason] nvarchar(max) NOT NULL DEFAULT N'';
2024-09-30 15:34:20.041 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Orders] ADD [ReturnReason] nvarchar(max) NOT NULL DEFAULT N'';
2024-09-30 15:34:20.047 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240930102638_UpdateOrderForCancelation', N'8.0.8');
2024-09-30 15:35:17.185 +05:00 [INF] User profile is available. Using 'C:\Users\Abubakar Sabir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 15:35:17.809 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 15:35:17.852 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:35:17.854 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:35:18.532 +05:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 15:35:18.619 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 15:35:18.760 +05:00 [INF] Now listening on: http://localhost:5296
2024-09-30 15:35:18.762 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 15:35:18.764 +05:00 [INF] Hosting environment: Development
2024-09-30 15:35:18.765 +05:00 [INF] Content root path: E:\House of Technology Office\Bookstore API project learning\BookstoreAPI
2024-09-30 15:35:43.051 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/swagger/index.html - null null
2024-09-30 15:35:43.162 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/swagger/index.html - 200 null text/html;charset=utf-8 111.7868ms
2024-09-30 15:35:43.359 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/swagger/v1/swagger.json - null null
2024-09-30 15:35:43.532 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 172.1113ms
2024-09-30 15:35:55.612 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Order - null null
2024-09-30 15:35:55.625 +05:00 [INF] Incoming Request: GET /api/Order
2024-09-30 15:35:55.724 +05:00 [WRN] Failed to determine the https port for redirect.
2024-09-30 15:35:55.727 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 15:35:55.741 +05:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrders() on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 15:35:55.969 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CancellationReason], [o].[CustomerId], [o].[CustomerId1], [o].[OrderDate], [o].[ReturnReason], [o].[Status], [t].[OrderId], [t].[BookId], [t].[Quantity], [t].[UnitPrice], [t].[Id], [t].[AuthorId], [t].[ISBN], [t].[Price], [t].[StockQuantity], [t].[Title]
FROM [Orders] AS [o]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[BookId], [o0].[Quantity], [o0].[UnitPrice], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
    FROM [OrderDetails] AS [o0]
    INNER JOIN [Books] AS [b] ON [o0].[BookId] = [b].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE [o].[CustomerId] = @__customerId_0
ORDER BY [o].[Id], [t].[OrderId], [t].[BookId]
2024-09-30 15:35:55.976 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) executed in 224ms
2024-09-30 15:35:55.988 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.DTOs.OrderReadDTO, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 15:35:56.079 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) in 327.6898ms
2024-09-30 15:35:56.083 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 15:35:56.088 +05:00 [INF] Outgoing Response: 200
2024-09-30 15:35:56.170 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Order - 200 2 application/json; charset=utf-8 557.7313ms
2024-09-30 15:36:18.001 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Customer/profile - null null
2024-09-30 15:36:18.011 +05:00 [INF] Incoming Request: GET /api/Customer/profile
2024-09-30 15:36:18.048 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI)'
2024-09-30 15:36:18.063 +05:00 [INF] Route matched with {action = "GetProfile", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller BookstoreAPI.Controllers.CustomerController (BookstoreAPI).
2024-09-30 15:36:18.421 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-09-30 15:36:18.488 +05:00 [INF] Action BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI) executed in 414ms
2024-09-30 15:36:18.491 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 15:36:18.523 +05:00 [INF] Executed action BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI) in 455.9494ms
2024-09-30 15:36:18.529 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI)'
2024-09-30 15:36:18.531 +05:00 [INF] Outgoing Response: 200
2024-09-30 15:36:18.534 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Customer/profile - 200 66 application/json; charset=utf-8 532.6798ms
2024-09-30 15:36:47.934 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Order - null null
2024-09-30 15:36:47.937 +05:00 [INF] Incoming Request: GET /api/Order
2024-09-30 15:36:47.947 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 15:36:47.950 +05:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrders() on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 15:36:47.977 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CancellationReason], [o].[CustomerId], [o].[CustomerId1], [o].[OrderDate], [o].[ReturnReason], [o].[Status], [t].[OrderId], [t].[BookId], [t].[Quantity], [t].[UnitPrice], [t].[Id], [t].[AuthorId], [t].[ISBN], [t].[Price], [t].[StockQuantity], [t].[Title]
FROM [Orders] AS [o]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[BookId], [o0].[Quantity], [o0].[UnitPrice], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
    FROM [OrderDetails] AS [o0]
    INNER JOIN [Books] AS [b] ON [o0].[BookId] = [b].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE [o].[CustomerId] = @__customerId_0
ORDER BY [o].[Id], [t].[OrderId], [t].[BookId]
2024-09-30 15:36:47.982 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) executed in 21ms
2024-09-30 15:36:47.983 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.DTOs.OrderReadDTO, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 15:36:47.985 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) in 25.6302ms
2024-09-30 15:36:47.993 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 15:36:47.995 +05:00 [INF] Outgoing Response: 200
2024-09-30 15:36:47.996 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Order - 200 2 application/json; charset=utf-8 62.4983ms
2024-09-30 15:41:48.528 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5296/api/Customer/login - application/json-patch+json 72
2024-09-30 15:41:48.534 +05:00 [INF] Incoming Request: POST /api/Customer/login
2024-09-30 15:41:48.536 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI)'
2024-09-30 15:41:48.559 +05:00 [INF] Route matched with {action = "Login", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookstoreAPI.Models.DTOs.LoginDTO) on controller BookstoreAPI.Controllers.CustomerController (BookstoreAPI).
2024-09-30 15:41:48.965 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-30 15:41:49.127 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-30 15:41:49.154 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 15:41:49.181 +05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-09-30 15:41:49.189 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 15:41:49.222 +05:00 [INF] Action BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI) executed in 284ms
2024-09-30 15:41:49.227 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 15:41:49.232 +05:00 [INF] Executed action BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI) in 670.666ms
2024-09-30 15:41:49.234 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI)'
2024-09-30 15:41:49.236 +05:00 [INF] Outgoing Response: 200
2024-09-30 15:41:49.243 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5296/api/Customer/login - 200 445 application/json; charset=utf-8 714.9739ms
2024-09-30 15:42:11.123 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Order - null null
2024-09-30 15:42:11.127 +05:00 [INF] Incoming Request: GET /api/Order
2024-09-30 15:42:11.145 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 15:42:11.154 +05:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrders() on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 15:42:11.185 +05:00 [INF] Executed DbCommand (24ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CancellationReason], [o].[CustomerId], [o].[CustomerId1], [o].[OrderDate], [o].[ReturnReason], [o].[Status], [t].[OrderId], [t].[BookId], [t].[Quantity], [t].[UnitPrice], [t].[Id], [t].[AuthorId], [t].[ISBN], [t].[Price], [t].[StockQuantity], [t].[Title]
FROM [Orders] AS [o]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[BookId], [o0].[Quantity], [o0].[UnitPrice], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
    FROM [OrderDetails] AS [o0]
    INNER JOIN [Books] AS [b] ON [o0].[BookId] = [b].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE [o].[CustomerId] = @__customerId_0
ORDER BY [o].[Id], [t].[OrderId], [t].[BookId]
2024-09-30 15:42:11.360 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) executed in 200ms
2024-09-30 15:42:11.361 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.DTOs.OrderReadDTO, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 15:42:11.374 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) in 217.2539ms
2024-09-30 15:42:11.377 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 15:42:11.389 +05:00 [INF] Outgoing Response: 200
2024-09-30 15:42:11.392 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Order - 200 272 application/json; charset=utf-8 269.1648ms
2024-09-30 15:43:32.520 +05:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5296/api/Order/1/status - application/json-patch+json 17
2024-09-30 15:43:32.527 +05:00 [INF] Incoming Request: PATCH /api/Order/1/status
2024-09-30 15:43:32.535 +05:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-09-30 15:43:32.545 +05:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-09-30 15:43:32.547 +05:00 [INF] Outgoing Response: 403
2024-09-30 15:43:32.549 +05:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5296/api/Order/1/status - 403 0 null 27.9291ms
2024-09-30 15:44:05.750 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5296/api/Customer/login - application/json-patch+json 59
2024-09-30 15:44:05.753 +05:00 [INF] Incoming Request: POST /api/Customer/login
2024-09-30 15:44:05.755 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI)'
2024-09-30 15:44:05.757 +05:00 [INF] Route matched with {action = "Login", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookstoreAPI.Models.DTOs.LoginDTO) on controller BookstoreAPI.Controllers.CustomerController (BookstoreAPI).
2024-09-30 15:44:05.789 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-30 15:44:05.963 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-30 15:44:05.990 +05:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 15:44:05.996 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 15:44:06.020 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-30 15:44:06.025 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 15:44:06.029 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-30 15:44:06.040 +05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-09-30 15:44:06.043 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 15:44:06.051 +05:00 [INF] Action BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI) executed in 272ms
2024-09-30 15:44:06.054 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 15:44:06.057 +05:00 [INF] Executed action BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI) in 286.1479ms
2024-09-30 15:44:06.059 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI)'
2024-09-30 15:44:06.060 +05:00 [INF] Outgoing Response: 200
2024-09-30 15:44:06.063 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5296/api/Customer/login - 200 557 application/json; charset=utf-8 312.76ms
2024-09-30 15:44:28.041 +05:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5296/api/Order/1/status - application/json-patch+json 17
2024-09-30 15:44:28.046 +05:00 [INF] Incoming Request: PATCH /api/Order/1/status
2024-09-30 15:44:28.053 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.UpdateOrderStatus (BookstoreAPI)'
2024-09-30 15:44:28.066 +05:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, BookstoreAPI.Models.DTOs.OrderStatusUpdateDTO) on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 15:44:28.392 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CancellationReason], [t].[CustomerId], [t].[CustomerId1], [t].[OrderDate], [t].[ReturnReason], [t].[Status], [t0].[OrderId], [t0].[BookId], [t0].[Quantity], [t0].[UnitPrice], [t0].[Id], [t0].[AuthorId], [t0].[ISBN], [t0].[Price], [t0].[StockQuantity], [t0].[Title]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CancellationReason], [o].[CustomerId], [o].[CustomerId1], [o].[OrderDate], [o].[ReturnReason], [o].[Status]
    FROM [Orders] AS [o]
    WHERE [o].[Id] = @__orderId_0
) AS [t]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[BookId], [o0].[Quantity], [o0].[UnitPrice], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
    FROM [OrderDetails] AS [o0]
    INNER JOIN [Books] AS [b] ON [o0].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t0].[OrderId], [t0].[BookId]
2024-09-30 15:44:28.617 +05:00 [INF] Executed DbCommand (15ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [CancellationReason] = @p0, [CustomerId] = @p1, [CustomerId1] = @p2, [OrderDate] = @p3, [ReturnReason] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-30 15:44:28.652 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.UpdateOrderStatus (BookstoreAPI) executed in 288ms
2024-09-30 15:44:28.653 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 15:44:28.665 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.UpdateOrderStatus (BookstoreAPI) in 596.3339ms
2024-09-30 15:44:28.667 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.UpdateOrderStatus (BookstoreAPI)'
2024-09-30 15:44:28.668 +05:00 [INF] Outgoing Response: 200
2024-09-30 15:44:28.670 +05:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5296/api/Order/1/status - 200 46 application/json; charset=utf-8 628.2024ms
2024-09-30 15:44:51.307 +05:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5296/api/Order/1/status - application/json-patch+json 26
2024-09-30 15:44:51.312 +05:00 [INF] Incoming Request: PATCH /api/Order/1/status
2024-09-30 15:44:51.358 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.UpdateOrderStatus (BookstoreAPI)'
2024-09-30 15:44:51.364 +05:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, BookstoreAPI.Models.DTOs.OrderStatusUpdateDTO) on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 15:44:51.390 +05:00 [INF] Executed DbCommand (16ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CancellationReason], [t].[CustomerId], [t].[CustomerId1], [t].[OrderDate], [t].[ReturnReason], [t].[Status], [t0].[OrderId], [t0].[BookId], [t0].[Quantity], [t0].[UnitPrice], [t0].[Id], [t0].[AuthorId], [t0].[ISBN], [t0].[Price], [t0].[StockQuantity], [t0].[Title]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CancellationReason], [o].[CustomerId], [o].[CustomerId1], [o].[OrderDate], [o].[ReturnReason], [o].[Status]
    FROM [Orders] AS [o]
    WHERE [o].[Id] = @__orderId_0
) AS [t]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[BookId], [o0].[Quantity], [o0].[UnitPrice], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
    FROM [OrderDetails] AS [o0]
    INNER JOIN [Books] AS [b] ON [o0].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t0].[OrderId], [t0].[BookId]
2024-09-30 15:44:51.408 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [CancellationReason] = @p0, [CustomerId] = @p1, [CustomerId1] = @p2, [OrderDate] = @p3, [ReturnReason] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-30 15:44:51.414 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.UpdateOrderStatus (BookstoreAPI) executed in 40ms
2024-09-30 15:44:51.415 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 15:44:51.419 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.UpdateOrderStatus (BookstoreAPI) in 49.14ms
2024-09-30 15:44:51.421 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.UpdateOrderStatus (BookstoreAPI)'
2024-09-30 15:44:51.422 +05:00 [INF] Outgoing Response: 200
2024-09-30 15:44:51.423 +05:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5296/api/Order/1/status - 200 46 application/json; charset=utf-8 116.3968ms
2024-09-30 15:45:23.138 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Order - null null
2024-09-30 15:45:23.151 +05:00 [INF] Incoming Request: GET /api/Order
2024-09-30 15:45:23.153 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 15:45:23.155 +05:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrders() on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 15:45:23.189 +05:00 [INF] Executed DbCommand (23ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CancellationReason], [o].[CustomerId], [o].[CustomerId1], [o].[OrderDate], [o].[ReturnReason], [o].[Status], [t].[OrderId], [t].[BookId], [t].[Quantity], [t].[UnitPrice], [t].[Id], [t].[AuthorId], [t].[ISBN], [t].[Price], [t].[StockQuantity], [t].[Title]
FROM [Orders] AS [o]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[BookId], [o0].[Quantity], [o0].[UnitPrice], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
    FROM [OrderDetails] AS [o0]
    INNER JOIN [Books] AS [b] ON [o0].[BookId] = [b].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE [o].[CustomerId] = @__customerId_0
ORDER BY [o].[Id], [t].[OrderId], [t].[BookId]
2024-09-30 15:45:23.223 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) executed in 58ms
2024-09-30 15:45:23.230 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.DTOs.OrderReadDTO, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 15:45:23.235 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) in 70.8688ms
2024-09-30 15:45:23.249 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 15:45:23.253 +05:00 [INF] Outgoing Response: 200
2024-09-30 15:45:23.256 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Order - 200 2 application/json; charset=utf-8 117.983ms
2024-09-30 15:45:51.782 +05:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5296/api/Order/1/cancel - application/json-patch+json 9
2024-09-30 15:45:51.786 +05:00 [INF] Incoming Request: PATCH /api/Order/1/cancel
2024-09-30 15:45:51.787 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.CancelOrder (BookstoreAPI)'
2024-09-30 15:45:51.797 +05:00 [INF] Route matched with {action = "CancelOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CancelOrder(Int32, System.String) on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 15:45:52.093 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CancellationReason], [t].[CustomerId], [t].[CustomerId1], [t].[OrderDate], [t].[ReturnReason], [t].[Status], [t0].[OrderId], [t0].[BookId], [t0].[Quantity], [t0].[UnitPrice], [t0].[Id], [t0].[AuthorId], [t0].[ISBN], [t0].[Price], [t0].[StockQuantity], [t0].[Title]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CancellationReason], [o].[CustomerId], [o].[CustomerId1], [o].[OrderDate], [o].[ReturnReason], [o].[Status]
    FROM [Orders] AS [o]
    WHERE [o].[Id] = @__orderId_0
) AS [t]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[BookId], [o0].[Quantity], [o0].[UnitPrice], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
    FROM [OrderDetails] AS [o0]
    INNER JOIN [Books] AS [b] ON [o0].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t0].[OrderId], [t0].[BookId]
2024-09-30 15:45:52.101 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.CancelOrder (BookstoreAPI) executed in 299ms
2024-09-30 15:45:52.104 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.CancelOrder (BookstoreAPI) in 304.0608ms
2024-09-30 15:45:52.107 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.CancelOrder (BookstoreAPI)'
2024-09-30 15:45:52.118 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Cannot cancel order that has been delivered or already canceled.
   at BookstoreAPI.Services.OrderService.CancelOrderAsync(Int32 orderId, String reason) in E:\House of Technology Office\Bookstore API project learning\BookstoreAPI\Services\OrderService.cs:line 92
   at BookstoreAPI.Controllers.OrderController.CancelOrder(Int32 orderId, String reason) in E:\House of Technology Office\Bookstore API project learning\BookstoreAPI\Controllers\OrderController.cs:line 72
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookstoreAPI.Middleware.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in E:\House of Technology Office\Bookstore API project learning\BookstoreAPI\Middleware\RequestResponseLoggingMiddleware.cs:line 22
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-30 15:45:52.201 +05:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5296/api/Order/1/cancel - 500 null text/plain; charset=utf-8 419.1105ms
2024-09-30 15:49:22.462 +05:00 [INF] Application is shutting down...
2024-09-30 15:49:33.686 +05:00 [INF] User profile is available. Using 'C:\Users\Abubakar Sabir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 15:49:34.412 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 15:49:34.461 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:49:34.463 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:49:35.310 +05:00 [INF] Executed DbCommand (53ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 15:49:35.428 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 15:49:35.611 +05:00 [INF] Now listening on: http://localhost:5296
2024-09-30 15:49:35.614 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 15:49:35.615 +05:00 [INF] Hosting environment: Development
2024-09-30 15:49:35.618 +05:00 [INF] Content root path: E:\House of Technology Office\Bookstore API project learning\BookstoreAPI
2024-09-30 15:49:40.716 +05:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5296/api/Order/1/cancel - application/json-patch+json 9
2024-09-30 15:49:40.769 +05:00 [INF] Incoming Request: PATCH /api/Order/1/cancel
2024-09-30 15:49:40.975 +05:00 [WRN] Failed to determine the https port for redirect.
2024-09-30 15:49:40.984 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.CancelOrder (BookstoreAPI)'
2024-09-30 15:49:41.022 +05:00 [INF] Route matched with {action = "CancelOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CancelOrder(Int32, System.String) on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 15:49:41.350 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CancellationReason], [t].[CustomerId], [t].[CustomerId1], [t].[OrderDate], [t].[ReturnReason], [t].[Status], [t0].[OrderId], [t0].[BookId], [t0].[Quantity], [t0].[UnitPrice], [t0].[Id], [t0].[AuthorId], [t0].[ISBN], [t0].[Price], [t0].[StockQuantity], [t0].[Title]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CancellationReason], [o].[CustomerId], [o].[CustomerId1], [o].[OrderDate], [o].[ReturnReason], [o].[Status]
    FROM [Orders] AS [o]
    WHERE [o].[Id] = @__orderId_0
) AS [t]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[BookId], [o0].[Quantity], [o0].[UnitPrice], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
    FROM [OrderDetails] AS [o0]
    INNER JOIN [Books] AS [b] ON [o0].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t0].[OrderId], [t0].[BookId]
2024-09-30 15:49:41.471 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.CancelOrder (BookstoreAPI) executed in 352ms
2024-09-30 15:49:41.521 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.CancelOrder (BookstoreAPI) in 449.2014ms
2024-09-30 15:49:41.651 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.CancelOrder (BookstoreAPI)'
2024-09-30 15:49:41.657 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Cannot cancel order that has been delivered or already canceled.
   at BookstoreAPI.Services.OrderService.CancelOrderAsync(Int32 orderId, String reason) in E:\House of Technology Office\Bookstore API project learning\BookstoreAPI\Services\OrderService.cs:line 92
   at BookstoreAPI.Controllers.OrderController.CancelOrder(Int32 orderId, String reason) in E:\House of Technology Office\Bookstore API project learning\BookstoreAPI\Controllers\OrderController.cs:line 72
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookstoreAPI.Middleware.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in E:\House of Technology Office\Bookstore API project learning\BookstoreAPI\Middleware\RequestResponseLoggingMiddleware.cs:line 22
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-30 15:49:41.788 +05:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5296/api/Order/1/cancel - 500 null text/plain; charset=utf-8 1076.574ms
2024-09-30 15:49:55.491 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Customer/profile - null null
2024-09-30 15:49:55.540 +05:00 [INF] Incoming Request: GET /api/Customer/profile
2024-09-30 15:49:55.567 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI)'
2024-09-30 15:49:55.587 +05:00 [INF] Route matched with {action = "GetProfile", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller BookstoreAPI.Controllers.CustomerController (BookstoreAPI).
2024-09-30 15:49:55.685 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-09-30 15:49:55.773 +05:00 [INF] Action BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI) executed in 166ms
2024-09-30 15:49:55.784 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 15:49:55.888 +05:00 [INF] Executed action BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI) in 298.2602ms
2024-09-30 15:49:55.892 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI)'
2024-09-30 15:49:55.899 +05:00 [INF] Outgoing Response: 200
2024-09-30 15:49:55.901 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Customer/profile - 200 66 application/json; charset=utf-8 409.4065ms
2024-09-30 15:50:00.077 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Customer/profile - null null
2024-09-30 15:50:00.083 +05:00 [INF] Incoming Request: GET /api/Customer/profile
2024-09-30 15:50:00.094 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI)'
2024-09-30 15:50:00.097 +05:00 [INF] Route matched with {action = "GetProfile", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller BookstoreAPI.Controllers.CustomerController (BookstoreAPI).
2024-09-30 15:50:00.120 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-09-30 15:50:00.125 +05:00 [INF] Action BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI) executed in 10ms
2024-09-30 15:50:00.127 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 15:50:00.130 +05:00 [INF] Executed action BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI) in 30.6775ms
2024-09-30 15:50:00.141 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI)'
2024-09-30 15:50:00.144 +05:00 [INF] Outgoing Response: 200
2024-09-30 15:50:00.147 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Customer/profile - 200 66 application/json; charset=utf-8 69.756ms
2024-09-30 15:50:06.818 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Order - null null
2024-09-30 15:50:06.843 +05:00 [INF] Incoming Request: GET /api/Order
2024-09-30 15:50:06.848 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 15:50:06.863 +05:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrders() on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 15:50:06.961 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CancellationReason], [o].[CustomerId], [o].[CustomerId1], [o].[OrderDate], [o].[ReturnReason], [o].[Status], [t].[OrderId], [t].[BookId], [t].[Quantity], [t].[UnitPrice], [t].[Id], [t].[AuthorId], [t].[ISBN], [t].[Price], [t].[StockQuantity], [t].[Title]
FROM [Orders] AS [o]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[BookId], [o0].[Quantity], [o0].[UnitPrice], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
    FROM [OrderDetails] AS [o0]
    INNER JOIN [Books] AS [b] ON [o0].[BookId] = [b].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE [o].[CustomerId] = @__customerId_0
ORDER BY [o].[Id], [t].[OrderId], [t].[BookId]
2024-09-30 15:50:06.971 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) executed in 97ms
2024-09-30 15:50:06.973 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.DTOs.OrderReadDTO, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 15:50:06.986 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) in 112.7691ms
2024-09-30 15:50:06.989 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 15:50:06.992 +05:00 [INF] Outgoing Response: 200
2024-09-30 15:50:06.995 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Order - 200 2 application/json; charset=utf-8 177.42ms
2024-09-30 15:51:18.088 +05:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5296/api/Order/1/status - application/json-patch+json 17
2024-09-30 15:51:18.093 +05:00 [INF] Incoming Request: PATCH /api/Order/1/status
2024-09-30 15:51:18.107 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.UpdateOrderStatus (BookstoreAPI)'
2024-09-30 15:51:18.113 +05:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, BookstoreAPI.Models.DTOs.OrderStatusUpdateDTO) on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 15:51:18.177 +05:00 [INF] Executed DbCommand (15ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CancellationReason], [t].[CustomerId], [t].[CustomerId1], [t].[OrderDate], [t].[ReturnReason], [t].[Status], [t0].[OrderId], [t0].[BookId], [t0].[Quantity], [t0].[UnitPrice], [t0].[Id], [t0].[AuthorId], [t0].[ISBN], [t0].[Price], [t0].[StockQuantity], [t0].[Title]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CancellationReason], [o].[CustomerId], [o].[CustomerId1], [o].[OrderDate], [o].[ReturnReason], [o].[Status]
    FROM [Orders] AS [o]
    WHERE [o].[Id] = @__orderId_0
) AS [t]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[BookId], [o0].[Quantity], [o0].[UnitPrice], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
    FROM [OrderDetails] AS [o0]
    INNER JOIN [Books] AS [b] ON [o0].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t0].[OrderId], [t0].[BookId]
2024-09-30 15:51:18.313 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [CancellationReason] = @p0, [CustomerId] = @p1, [CustomerId1] = @p2, [OrderDate] = @p3, [ReturnReason] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-30 15:51:18.335 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.UpdateOrderStatus (BookstoreAPI) executed in 175ms
2024-09-30 15:51:18.337 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 15:51:18.340 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.UpdateOrderStatus (BookstoreAPI) in 222.4775ms
2024-09-30 15:51:18.343 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.UpdateOrderStatus (BookstoreAPI)'
2024-09-30 15:51:18.344 +05:00 [INF] Outgoing Response: 200
2024-09-30 15:51:18.346 +05:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5296/api/Order/1/status - 200 45 application/json; charset=utf-8 257.4067ms
2024-09-30 15:52:00.480 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5296/api/Customer/login - application/json-patch+json 72
2024-09-30 15:52:00.491 +05:00 [INF] Incoming Request: POST /api/Customer/login
2024-09-30 15:52:00.495 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI)'
2024-09-30 15:52:00.514 +05:00 [INF] Route matched with {action = "Login", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookstoreAPI.Models.DTOs.LoginDTO) on controller BookstoreAPI.Controllers.CustomerController (BookstoreAPI).
2024-09-30 15:52:00.594 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-30 15:52:01.028 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-30 15:52:01.090 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 15:52:01.124 +05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-09-30 15:52:01.146 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 15:52:01.177 +05:00 [INF] Action BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI) executed in 616ms
2024-09-30 15:52:01.179 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 15:52:01.189 +05:00 [INF] Executed action BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI) in 662.8972ms
2024-09-30 15:52:01.193 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI)'
2024-09-30 15:52:01.194 +05:00 [INF] Outgoing Response: 200
2024-09-30 15:52:01.196 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5296/api/Customer/login - 200 445 application/json; charset=utf-8 715.5837ms
2024-09-30 15:52:51.964 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Customer/profile - null null
2024-09-30 15:52:51.991 +05:00 [INF] Incoming Request: GET /api/Customer/profile
2024-09-30 15:52:52.003 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI)'
2024-09-30 15:52:52.004 +05:00 [INF] Route matched with {action = "GetProfile", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller BookstoreAPI.Controllers.CustomerController (BookstoreAPI).
2024-09-30 15:52:52.028 +05:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-09-30 15:52:52.033 +05:00 [INF] Action BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI) executed in 22ms
2024-09-30 15:52:52.033 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 15:52:52.035 +05:00 [INF] Executed action BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI) in 26.6177ms
2024-09-30 15:52:52.037 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI)'
2024-09-30 15:52:52.039 +05:00 [INF] Outgoing Response: 200
2024-09-30 15:52:52.043 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Customer/profile - 200 79 application/json; charset=utf-8 79.3046ms
2024-09-30 15:53:01.387 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Order - null null
2024-09-30 15:53:01.390 +05:00 [INF] Incoming Request: GET /api/Order
2024-09-30 15:53:01.391 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 15:53:01.393 +05:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrders() on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 15:53:01.422 +05:00 [INF] Executed DbCommand (24ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CancellationReason], [o].[CustomerId], [o].[CustomerId1], [o].[OrderDate], [o].[ReturnReason], [o].[Status], [t].[OrderId], [t].[BookId], [t].[Quantity], [t].[UnitPrice], [t].[Id], [t].[AuthorId], [t].[ISBN], [t].[Price], [t].[StockQuantity], [t].[Title]
FROM [Orders] AS [o]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[BookId], [o0].[Quantity], [o0].[UnitPrice], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
    FROM [OrderDetails] AS [o0]
    INNER JOIN [Books] AS [b] ON [o0].[BookId] = [b].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE [o].[CustomerId] = @__customerId_0
ORDER BY [o].[Id], [t].[OrderId], [t].[BookId]
2024-09-30 15:53:01.436 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) executed in 39ms
2024-09-30 15:53:01.440 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.DTOs.OrderReadDTO, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 15:53:01.455 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) in 59.4307ms
2024-09-30 15:53:01.458 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 15:53:01.460 +05:00 [INF] Outgoing Response: 200
2024-09-30 15:53:01.464 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Order - 200 270 application/json; charset=utf-8 76.9591ms
2024-09-30 15:53:13.401 +05:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5296/api/Order/1/cancel - application/json-patch+json 9
2024-09-30 15:53:13.404 +05:00 [INF] Incoming Request: PATCH /api/Order/1/cancel
2024-09-30 15:53:13.406 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.CancelOrder (BookstoreAPI)'
2024-09-30 15:53:13.408 +05:00 [INF] Route matched with {action = "CancelOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CancelOrder(Int32, System.String) on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 15:53:13.431 +05:00 [INF] Executed DbCommand (16ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CancellationReason], [t].[CustomerId], [t].[CustomerId1], [t].[OrderDate], [t].[ReturnReason], [t].[Status], [t0].[OrderId], [t0].[BookId], [t0].[Quantity], [t0].[UnitPrice], [t0].[Id], [t0].[AuthorId], [t0].[ISBN], [t0].[Price], [t0].[StockQuantity], [t0].[Title]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CancellationReason], [o].[CustomerId], [o].[CustomerId1], [o].[OrderDate], [o].[ReturnReason], [o].[Status]
    FROM [Orders] AS [o]
    WHERE [o].[Id] = @__orderId_0
) AS [t]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[BookId], [o0].[Quantity], [o0].[UnitPrice], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
    FROM [OrderDetails] AS [o0]
    INNER JOIN [Books] AS [b] ON [o0].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t0].[OrderId], [t0].[BookId]
2024-09-30 15:53:13.527 +05:00 [INF] Executed DbCommand (17ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (DbType = Int32), @p2='?' (DbType = Int32), @p5='?' (DbType = Int32), @p4='?' (DbType = Int32), @p12='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 450), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Books] SET [StockQuantity] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Books] SET [StockQuantity] = @p2
OUTPUT 1
WHERE [Id] = @p3;
UPDATE [Books] SET [StockQuantity] = @p4
OUTPUT 1
WHERE [Id] = @p5;
UPDATE [Orders] SET [CancellationReason] = @p6, [CustomerId] = @p7, [CustomerId1] = @p8, [OrderDate] = @p9, [ReturnReason] = @p10, [Status] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2024-09-30 15:53:13.545 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.CancelOrder (BookstoreAPI) executed in 131ms
2024-09-30 15:53:13.546 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 15:53:13.549 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.CancelOrder (BookstoreAPI) in 137.7879ms
2024-09-30 15:53:13.552 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.CancelOrder (BookstoreAPI)'
2024-09-30 15:53:13.558 +05:00 [INF] Outgoing Response: 200
2024-09-30 15:53:13.559 +05:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5296/api/Order/1/cancel - 200 41 application/json; charset=utf-8 158.2769ms
2024-09-30 15:56:24.934 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5296/api/Order - application/json-patch+json 123
2024-09-30 15:56:24.938 +05:00 [INF] Incoming Request: POST /api/Order
2024-09-30 15:56:24.941 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.CreateOrder (BookstoreAPI)'
2024-09-30 15:56:24.953 +05:00 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(BookstoreAPI.Models.DTOs.OrderCreateDTO) on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 15:56:25.028 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[Id] = @__id_0
2024-09-30 15:56:25.048 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[Id] = @__id_0
2024-09-30 15:56:25.466 +05:00 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([CancellationReason], [CustomerId], [CustomerId1], [OrderDate], [ReturnReason], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-09-30 15:56:25.536 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'BookstoreAPI.Models.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'CancellationReason', table 'BookstoreDb.dbo.Orders'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2298a91b-8f1b-4535-9a57-06c69af7ffe1
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'CancellationReason', table 'BookstoreDb.dbo.Orders'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2298a91b-8f1b-4535-9a57-06c69af7ffe1
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-30 15:56:25.558 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.CreateOrder (BookstoreAPI) executed in 576ms
2024-09-30 15:56:25.562 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.CreateOrder (BookstoreAPI) in 606.3462ms
2024-09-30 15:56:25.566 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.CreateOrder (BookstoreAPI)'
2024-09-30 15:56:25.569 +05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'CancellationReason', table 'BookstoreDb.dbo.Orders'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2298a91b-8f1b-4535-9a57-06c69af7ffe1
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BookstoreAPI.Repositories.OrderRepository.CreateOrderAsync(Order order) in E:\House of Technology Office\Bookstore API project learning\BookstoreAPI\Repositories\OrderRepository.cs:line 21
   at BookstoreAPI.Services.OrderService.CreateOrderAsync(String customerId, OrderCreateDTO orderCreateDTO) in E:\House of Technology Office\Bookstore API project learning\BookstoreAPI\Services\OrderService.cs:line 50
   at BookstoreAPI.Controllers.OrderController.CreateOrder(OrderCreateDTO orderCreateDTO) in E:\House of Technology Office\Bookstore API project learning\BookstoreAPI\Controllers\OrderController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookstoreAPI.Middleware.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in E:\House of Technology Office\Bookstore API project learning\BookstoreAPI\Middleware\RequestResponseLoggingMiddleware.cs:line 22
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-30 15:56:25.633 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5296/api/Order - 500 null text/plain; charset=utf-8 699.7908ms
2024-09-30 15:57:17.539 +05:00 [INF] Application is shutting down...
2024-09-30 15:58:10.943 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 15:58:11.068 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:58:11.072 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:58:11.408 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 15:58:11.418 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:58:11.423 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:58:42.817 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 15:58:42.979 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:58:42.988 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:58:44.716 +05:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 15:58:44.812 +05:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 15:58:44.819 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 15:58:44.825 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 15:58:44.919 +05:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-30 15:58:44.976 +05:00 [INF] Applying migration '20240930105813_UpdateCancellationReasonNullanle'.
2024-09-30 15:58:46.039 +05:00 [INF] Executed DbCommand (822ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Orders]') AND [c].[name] = N'ReturnReason');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Orders] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Orders] ALTER COLUMN [ReturnReason] nvarchar(max) NULL;
2024-09-30 15:58:46.718 +05:00 [INF] Executed DbCommand (674ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Orders]') AND [c].[name] = N'CancellationReason');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Orders] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Orders] ALTER COLUMN [CancellationReason] nvarchar(max) NULL;
2024-09-30 15:58:46.740 +05:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240930105813_UpdateCancellationReasonNullanle', N'8.0.8');
2024-09-30 15:59:21.288 +05:00 [INF] User profile is available. Using 'C:\Users\Abubakar Sabir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 15:59:22.842 +05:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-09-30 15:59:22.929 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:59:22.931 +05:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-30 15:59:24.564 +05:00 [INF] Executed DbCommand (121ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 15:59:24.921 +05:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 15:59:25.327 +05:00 [INF] Now listening on: http://localhost:5296
2024-09-30 15:59:25.337 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 15:59:25.340 +05:00 [INF] Hosting environment: Development
2024-09-30 15:59:25.342 +05:00 [INF] Content root path: E:\House of Technology Office\Bookstore API project learning\BookstoreAPI
2024-09-30 15:59:50.710 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/swagger/index.html - null null
2024-09-30 15:59:51.158 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/swagger/index.html - 200 null text/html;charset=utf-8 452.5383ms
2024-09-30 15:59:51.368 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/swagger/v1/swagger.json - null null
2024-09-30 15:59:51.563 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 194.2782ms
2024-09-30 16:00:22.614 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Customer/profile - null null
2024-09-30 16:00:22.629 +05:00 [INF] Incoming Request: GET /api/Customer/profile
2024-09-30 16:00:23.101 +05:00 [WRN] Failed to determine the https port for redirect.
2024-09-30 16:00:23.108 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI)'
2024-09-30 16:00:23.138 +05:00 [INF] Route matched with {action = "GetProfile", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller BookstoreAPI.Controllers.CustomerController (BookstoreAPI).
2024-09-30 16:00:23.316 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-09-30 16:00:23.430 +05:00 [INF] Action BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI) executed in 275ms
2024-09-30 16:00:23.438 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 16:00:23.558 +05:00 [INF] Executed action BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI) in 404.3792ms
2024-09-30 16:00:23.561 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI)'
2024-09-30 16:00:23.563 +05:00 [INF] Outgoing Response: 200
2024-09-30 16:00:23.583 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Customer/profile - 200 79 application/json; charset=utf-8 969.0695ms
2024-09-30 16:01:00.044 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5296/api/Order - application/json-patch+json 123
2024-09-30 16:01:00.063 +05:00 [INF] Incoming Request: POST /api/Order
2024-09-30 16:01:00.067 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.CreateOrder (BookstoreAPI)'
2024-09-30 16:01:00.082 +05:00 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(BookstoreAPI.Models.DTOs.OrderCreateDTO) on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 16:01:00.588 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[Id] = @__id_0
2024-09-30 16:01:00.690 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[Id] = @__id_0
2024-09-30 16:01:01.015 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([CancellationReason], [CustomerId], [CustomerId1], [OrderDate], [ReturnReason], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-09-30 16:01:01.069 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderDetails] ([BookId], [OrderId], [Quantity], [UnitPrice])
VALUES (@p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13);
2024-09-30 16:01:01.097 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.CreateOrder (BookstoreAPI) executed in 946ms
2024-09-30 16:01:01.099 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 16:01:01.102 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.CreateOrder (BookstoreAPI) in 1017.7747ms
2024-09-30 16:01:01.104 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.CreateOrder (BookstoreAPI)'
2024-09-30 16:01:01.106 +05:00 [INF] Outgoing Response: 200
2024-09-30 16:01:01.108 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5296/api/Order - 200 39 application/json; charset=utf-8 1063.3144ms
2024-09-30 16:01:11.457 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Order - null null
2024-09-30 16:01:11.460 +05:00 [INF] Incoming Request: GET /api/Order
2024-09-30 16:01:11.467 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 16:01:11.474 +05:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrders() on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 16:01:11.592 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CancellationReason], [o].[CustomerId], [o].[CustomerId1], [o].[OrderDate], [o].[ReturnReason], [o].[Status], [t].[OrderId], [t].[BookId], [t].[Quantity], [t].[UnitPrice], [t].[Id], [t].[AuthorId], [t].[ISBN], [t].[Price], [t].[StockQuantity], [t].[Title]
FROM [Orders] AS [o]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[BookId], [o0].[Quantity], [o0].[UnitPrice], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
    FROM [OrderDetails] AS [o0]
    INNER JOIN [Books] AS [b] ON [o0].[BookId] = [b].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE [o].[CustomerId] = @__customerId_0
ORDER BY [o].[Id], [t].[OrderId], [t].[BookId]
2024-09-30 16:01:11.617 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) executed in 135ms
2024-09-30 16:01:11.619 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.DTOs.OrderReadDTO, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 16:01:11.626 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) in 148.208ms
2024-09-30 16:01:11.628 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 16:01:11.633 +05:00 [INF] Outgoing Response: 200
2024-09-30 16:01:11.637 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Order - 200 469 application/json; charset=utf-8 180.6817ms
2024-09-30 16:02:19.379 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5296/api/Customer/login - application/json-patch+json 59
2024-09-30 16:02:19.387 +05:00 [INF] Incoming Request: POST /api/Customer/login
2024-09-30 16:02:19.389 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI)'
2024-09-30 16:02:19.397 +05:00 [INF] Route matched with {action = "Login", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookstoreAPI.Models.DTOs.LoginDTO) on controller BookstoreAPI.Controllers.CustomerController (BookstoreAPI).
2024-09-30 16:02:19.766 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-30 16:02:19.932 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-30 16:02:19.963 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 16:02:19.979 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 16:02:19.997 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-30 16:02:20.009 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-30 16:02:20.014 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-30 16:02:20.044 +05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-09-30 16:02:20.053 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 16:02:20.085 +05:00 [INF] Action BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI) executed in 611ms
2024-09-30 16:02:20.092 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 16:02:20.095 +05:00 [INF] Executed action BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI) in 692.1079ms
2024-09-30 16:02:20.097 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.CustomerController.Login (BookstoreAPI)'
2024-09-30 16:02:20.099 +05:00 [INF] Outgoing Response: 200
2024-09-30 16:02:20.103 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5296/api/Customer/login - 200 557 application/json; charset=utf-8 723.5526ms
2024-09-30 16:02:57.629 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Customer/profile - null null
2024-09-30 16:02:57.633 +05:00 [INF] Incoming Request: GET /api/Customer/profile
2024-09-30 16:02:57.642 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI)'
2024-09-30 16:02:57.644 +05:00 [INF] Route matched with {action = "GetProfile", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller BookstoreAPI.Controllers.CustomerController (BookstoreAPI).
2024-09-30 16:02:57.664 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-09-30 16:02:57.667 +05:00 [INF] Action BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI) executed in 12ms
2024-09-30 16:02:57.668 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 16:02:57.672 +05:00 [INF] Executed action BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI) in 25.9104ms
2024-09-30 16:02:57.688 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI)'
2024-09-30 16:02:57.699 +05:00 [INF] Outgoing Response: 200
2024-09-30 16:02:57.701 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Customer/profile - 200 66 application/json; charset=utf-8 71.2229ms
2024-09-30 16:03:30.969 +05:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5296/api/Order/1/status - application/json-patch+json 17
2024-09-30 16:03:30.972 +05:00 [INF] Incoming Request: PATCH /api/Order/1/status
2024-09-30 16:03:30.977 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.UpdateOrderStatus (BookstoreAPI)'
2024-09-30 16:03:30.982 +05:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, BookstoreAPI.Models.DTOs.OrderStatusUpdateDTO) on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 16:03:31.311 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CancellationReason], [t].[CustomerId], [t].[CustomerId1], [t].[OrderDate], [t].[ReturnReason], [t].[Status], [t0].[OrderId], [t0].[BookId], [t0].[Quantity], [t0].[UnitPrice], [t0].[Id], [t0].[AuthorId], [t0].[ISBN], [t0].[Price], [t0].[StockQuantity], [t0].[Title]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CancellationReason], [o].[CustomerId], [o].[CustomerId1], [o].[OrderDate], [o].[ReturnReason], [o].[Status]
    FROM [Orders] AS [o]
    WHERE [o].[Id] = @__orderId_0
) AS [t]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[BookId], [o0].[Quantity], [o0].[UnitPrice], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
    FROM [OrderDetails] AS [o0]
    INNER JOIN [Books] AS [b] ON [o0].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t0].[OrderId], [t0].[BookId]
2024-09-30 16:03:31.330 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [CancellationReason] = @p0, [CustomerId] = @p1, [CustomerId1] = @p2, [OrderDate] = @p3, [ReturnReason] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-30 16:03:31.342 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.UpdateOrderStatus (BookstoreAPI) executed in 62ms
2024-09-30 16:03:31.345 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 16:03:31.348 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.UpdateOrderStatus (BookstoreAPI) in 358.8282ms
2024-09-30 16:03:31.355 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.UpdateOrderStatus (BookstoreAPI)'
2024-09-30 16:03:31.357 +05:00 [INF] Outgoing Response: 200
2024-09-30 16:03:31.358 +05:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5296/api/Order/1/status - 200 47 application/json; charset=utf-8 389.0787ms
2024-09-30 16:04:13.700 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Customer/profile - null null
2024-09-30 16:04:13.704 +05:00 [INF] Incoming Request: GET /api/Customer/profile
2024-09-30 16:04:13.706 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI)'
2024-09-30 16:04:13.708 +05:00 [INF] Route matched with {action = "GetProfile", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller BookstoreAPI.Controllers.CustomerController (BookstoreAPI).
2024-09-30 16:04:13.717 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-09-30 16:04:13.728 +05:00 [INF] Action BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI) executed in 14ms
2024-09-30 16:04:13.729 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 16:04:13.733 +05:00 [INF] Executed action BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI) in 19.7547ms
2024-09-30 16:04:13.737 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI)'
2024-09-30 16:04:13.749 +05:00 [INF] Outgoing Response: 200
2024-09-30 16:04:13.764 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Customer/profile - 200 79 application/json; charset=utf-8 63.1032ms
2024-09-30 16:04:53.135 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Order - null null
2024-09-30 16:04:53.139 +05:00 [INF] Incoming Request: GET /api/Order
2024-09-30 16:04:53.146 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 16:04:53.148 +05:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrders() on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 16:04:53.170 +05:00 [INF] Executed DbCommand (17ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CancellationReason], [o].[CustomerId], [o].[CustomerId1], [o].[OrderDate], [o].[ReturnReason], [o].[Status], [t].[OrderId], [t].[BookId], [t].[Quantity], [t].[UnitPrice], [t].[Id], [t].[AuthorId], [t].[ISBN], [t].[Price], [t].[StockQuantity], [t].[Title]
FROM [Orders] AS [o]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[BookId], [o0].[Quantity], [o0].[UnitPrice], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
    FROM [OrderDetails] AS [o0]
    INNER JOIN [Books] AS [b] ON [o0].[BookId] = [b].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE [o].[CustomerId] = @__customerId_0
ORDER BY [o].[Id], [t].[OrderId], [t].[BookId]
2024-09-30 16:04:53.186 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) executed in 34ms
2024-09-30 16:04:53.192 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.DTOs.OrderReadDTO, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 16:04:53.202 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) in 51.3483ms
2024-09-30 16:04:53.217 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 16:04:53.218 +05:00 [INF] Outgoing Response: 200
2024-09-30 16:04:53.220 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Order - 200 470 application/json; charset=utf-8 84.4103ms
2024-09-30 16:05:49.521 +05:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5296/api/Order/1/requestReturn - application/json-patch+json 13
2024-09-30 16:05:49.529 +05:00 [INF] Incoming Request: PATCH /api/Order/1/requestReturn
2024-09-30 16:05:49.531 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.RequestReturn (BookstoreAPI)'
2024-09-30 16:05:49.537 +05:00 [INF] Route matched with {action = "RequestReturn", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestReturn(Int32, System.String) on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 16:05:49.572 +05:00 [INF] Executed DbCommand (18ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CancellationReason], [t].[CustomerId], [t].[CustomerId1], [t].[OrderDate], [t].[ReturnReason], [t].[Status], [t0].[OrderId], [t0].[BookId], [t0].[Quantity], [t0].[UnitPrice], [t0].[Id], [t0].[AuthorId], [t0].[ISBN], [t0].[Price], [t0].[StockQuantity], [t0].[Title]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CancellationReason], [o].[CustomerId], [o].[CustomerId1], [o].[OrderDate], [o].[ReturnReason], [o].[Status]
    FROM [Orders] AS [o]
    WHERE [o].[Id] = @__orderId_0
) AS [t]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[BookId], [o0].[Quantity], [o0].[UnitPrice], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
    FROM [OrderDetails] AS [o0]
    INNER JOIN [Books] AS [b] ON [o0].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t0].[OrderId], [t0].[BookId]
2024-09-30 16:05:49.600 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [CancellationReason] = @p0, [CustomerId] = @p1, [CustomerId1] = @p2, [OrderDate] = @p3, [ReturnReason] = @p4, [Status] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-09-30 16:05:49.604 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.RequestReturn (BookstoreAPI) executed in 56ms
2024-09-30 16:05:49.605 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 16:05:49.607 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.RequestReturn (BookstoreAPI) in 66.5285ms
2024-09-30 16:05:49.612 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.RequestReturn (BookstoreAPI)'
2024-09-30 16:05:49.623 +05:00 [INF] Outgoing Response: 200
2024-09-30 16:05:49.624 +05:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5296/api/Order/1/requestReturn - 200 43 application/json; charset=utf-8 102.6751ms
2024-09-30 16:06:00.470 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Order - null null
2024-09-30 16:06:00.475 +05:00 [INF] Incoming Request: GET /api/Order
2024-09-30 16:06:00.478 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 16:06:00.487 +05:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrders() on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 16:06:00.507 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CancellationReason], [o].[CustomerId], [o].[CustomerId1], [o].[OrderDate], [o].[ReturnReason], [o].[Status], [t].[OrderId], [t].[BookId], [t].[Quantity], [t].[UnitPrice], [t].[Id], [t].[AuthorId], [t].[ISBN], [t].[Price], [t].[StockQuantity], [t].[Title]
FROM [Orders] AS [o]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[BookId], [o0].[Quantity], [o0].[UnitPrice], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
    FROM [OrderDetails] AS [o0]
    INNER JOIN [Books] AS [b] ON [o0].[BookId] = [b].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE [o].[CustomerId] = @__customerId_0
ORDER BY [o].[Id], [t].[OrderId], [t].[BookId]
2024-09-30 16:06:00.525 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) executed in 33ms
2024-09-30 16:06:00.527 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.DTOs.OrderReadDTO, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 16:06:00.536 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) in 44.4176ms
2024-09-30 16:06:00.543 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 16:06:00.548 +05:00 [INF] Outgoing Response: 200
2024-09-30 16:06:00.557 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Order - 200 476 application/json; charset=utf-8 87.2897ms
2024-09-30 16:06:38.519 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Customer/profile - null null
2024-09-30 16:06:38.523 +05:00 [INF] Incoming Request: GET /api/Customer/profile
2024-09-30 16:06:38.525 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI)'
2024-09-30 16:06:38.560 +05:00 [INF] Route matched with {action = "GetProfile", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller BookstoreAPI.Controllers.CustomerController (BookstoreAPI).
2024-09-30 16:06:38.578 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-09-30 16:06:38.583 +05:00 [INF] Action BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI) executed in 18ms
2024-09-30 16:06:38.584 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 16:06:38.595 +05:00 [INF] Executed action BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI) in 30.1972ms
2024-09-30 16:06:38.610 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI)'
2024-09-30 16:06:38.624 +05:00 [INF] Outgoing Response: 200
2024-09-30 16:06:38.629 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Customer/profile - 200 79 application/json; charset=utf-8 109.5788ms
2024-09-30 16:06:57.588 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Customer/profile - null null
2024-09-30 16:06:57.592 +05:00 [INF] Incoming Request: GET /api/Customer/profile
2024-09-30 16:06:57.594 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI)'
2024-09-30 16:06:57.606 +05:00 [INF] Route matched with {action = "GetProfile", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller BookstoreAPI.Controllers.CustomerController (BookstoreAPI).
2024-09-30 16:06:57.620 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-09-30 16:06:57.641 +05:00 [INF] Action BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI) executed in 30ms
2024-09-30 16:06:57.643 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 16:06:57.652 +05:00 [INF] Executed action BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI) in 41.6853ms
2024-09-30 16:06:57.658 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI)'
2024-09-30 16:06:57.659 +05:00 [INF] Outgoing Response: 200
2024-09-30 16:06:57.660 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Customer/profile - 200 66 application/json; charset=utf-8 72.1597ms
2024-09-30 16:07:12.933 +05:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5296/api/Order/1/approveReturn - null null
2024-09-30 16:07:12.937 +05:00 [INF] Incoming Request: PATCH /api/Order/1/approveReturn
2024-09-30 16:07:12.939 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.ApproveReturn (BookstoreAPI)'
2024-09-30 16:07:12.949 +05:00 [INF] Route matched with {action = "ApproveReturn", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveReturn(Int32) on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 16:07:12.968 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CancellationReason], [t].[CustomerId], [t].[CustomerId1], [t].[OrderDate], [t].[ReturnReason], [t].[Status], [t0].[OrderId], [t0].[BookId], [t0].[Quantity], [t0].[UnitPrice], [t0].[Id], [t0].[AuthorId], [t0].[ISBN], [t0].[Price], [t0].[StockQuantity], [t0].[Title]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CancellationReason], [o].[CustomerId], [o].[CustomerId1], [o].[OrderDate], [o].[ReturnReason], [o].[Status]
    FROM [Orders] AS [o]
    WHERE [o].[Id] = @__orderId_0
) AS [t]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[BookId], [o0].[Quantity], [o0].[UnitPrice], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
    FROM [OrderDetails] AS [o0]
    INNER JOIN [Books] AS [b] ON [o0].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t0].[OrderId], [t0].[BookId]
2024-09-30 16:07:12.999 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (DbType = Int32), @p2='?' (DbType = Int32), @p5='?' (DbType = Int32), @p4='?' (DbType = Int32), @p12='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 450), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Books] SET [StockQuantity] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Books] SET [StockQuantity] = @p2
OUTPUT 1
WHERE [Id] = @p3;
UPDATE [Books] SET [StockQuantity] = @p4
OUTPUT 1
WHERE [Id] = @p5;
UPDATE [Orders] SET [CancellationReason] = @p6, [CustomerId] = @p7, [CustomerId1] = @p8, [OrderDate] = @p9, [ReturnReason] = @p10, [Status] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2024-09-30 16:07:13.008 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.ApproveReturn (BookstoreAPI) executed in 51ms
2024-09-30 16:07:13.009 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 16:07:13.010 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.ApproveReturn (BookstoreAPI) in 55.099ms
2024-09-30 16:07:13.014 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.ApproveReturn (BookstoreAPI)'
2024-09-30 16:07:13.015 +05:00 [INF] Outgoing Response: 200
2024-09-30 16:07:13.017 +05:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5296/api/Order/1/approveReturn - 200 42 application/json; charset=utf-8 83.1416ms
2024-09-30 16:07:32.849 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Inventory/books - null null
2024-09-30 16:07:32.854 +05:00 [INF] Incoming Request: GET /api/Inventory/books
2024-09-30 16:07:32.860 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.InventoryController.GetAllBooks (BookstoreAPI)'
2024-09-30 16:07:32.868 +05:00 [INF] Route matched with {action = "GetAllBooks", controller = "Inventory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller BookstoreAPI.Controllers.InventoryController (BookstoreAPI).
2024-09-30 16:07:32.914 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2024-09-30 16:07:32.921 +05:00 [INF] Action BookstoreAPI.Controllers.InventoryController.GetAllBooks (BookstoreAPI) executed in 39ms
2024-09-30 16:07:32.930 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.DTOs.BookReadDTO, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 16:07:32.937 +05:00 [INF] Executed action BookstoreAPI.Controllers.InventoryController.GetAllBooks (BookstoreAPI) in 55.9668ms
2024-09-30 16:07:32.949 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.InventoryController.GetAllBooks (BookstoreAPI)'
2024-09-30 16:07:32.951 +05:00 [INF] Outgoing Response: 200
2024-09-30 16:07:32.953 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Inventory/books - 200 588 application/json; charset=utf-8 104.1395ms
2024-09-30 16:08:38.860 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Customer/profile - null null
2024-09-30 16:08:38.865 +05:00 [INF] Incoming Request: GET /api/Customer/profile
2024-09-30 16:08:38.867 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI)'
2024-09-30 16:08:38.870 +05:00 [INF] Route matched with {action = "GetProfile", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller BookstoreAPI.Controllers.CustomerController (BookstoreAPI).
2024-09-30 16:08:38.888 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-09-30 16:08:38.928 +05:00 [INF] Action BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI) executed in 51ms
2024-09-30 16:08:38.934 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 16:08:38.938 +05:00 [INF] Executed action BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI) in 61.214ms
2024-09-30 16:08:38.948 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.CustomerController.GetProfile (BookstoreAPI)'
2024-09-30 16:08:38.951 +05:00 [INF] Outgoing Response: 200
2024-09-30 16:08:38.960 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Customer/profile - 200 79 application/json; charset=utf-8 100.5376ms
2024-09-30 16:08:49.722 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Order - null null
2024-09-30 16:08:49.727 +05:00 [INF] Incoming Request: GET /api/Order
2024-09-30 16:08:49.757 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 16:08:49.780 +05:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrders() on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 16:08:49.809 +05:00 [INF] Executed DbCommand (16ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CancellationReason], [o].[CustomerId], [o].[CustomerId1], [o].[OrderDate], [o].[ReturnReason], [o].[Status], [t].[OrderId], [t].[BookId], [t].[Quantity], [t].[UnitPrice], [t].[Id], [t].[AuthorId], [t].[ISBN], [t].[Price], [t].[StockQuantity], [t].[Title]
FROM [Orders] AS [o]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[BookId], [o0].[Quantity], [o0].[UnitPrice], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
    FROM [OrderDetails] AS [o0]
    INNER JOIN [Books] AS [b] ON [o0].[BookId] = [b].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE [o].[CustomerId] = @__customerId_0
ORDER BY [o].[Id], [t].[OrderId], [t].[BookId]
2024-09-30 16:08:49.823 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) executed in 27ms
2024-09-30 16:08:49.827 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.DTOs.OrderReadDTO, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 16:08:49.830 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI) in 38.0474ms
2024-09-30 16:08:49.845 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.GetOrders (BookstoreAPI)'
2024-09-30 16:08:49.847 +05:00 [INF] Outgoing Response: 200
2024-09-30 16:08:49.856 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Order - 200 469 application/json; charset=utf-8 133.482ms
2024-09-30 16:09:36.538 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Books - null null
2024-09-30 16:09:36.543 +05:00 [INF] Incoming Request: GET /api/Books
2024-09-30 16:09:36.551 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.BooksController.GetBooks (BookstoreAPI)'
2024-09-30 16:09:36.558 +05:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookstoreAPI.Models.DTOs.BookReadDTO]]] GetBooks() on controller BookstoreAPI.Controllers.BooksController (BookstoreAPI).
2024-09-30 16:09:36.578 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2024-09-30 16:09:36.600 +05:00 [INF] Action BookstoreAPI.Controllers.BooksController.GetBooks (BookstoreAPI) executed in 33ms
2024-09-30 16:09:36.606 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.DTOs.BookReadDTO, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 16:09:36.609 +05:00 [INF] Executed action BookstoreAPI.Controllers.BooksController.GetBooks (BookstoreAPI) in 43.1442ms
2024-09-30 16:09:36.612 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.BooksController.GetBooks (BookstoreAPI)'
2024-09-30 16:09:36.616 +05:00 [INF] Outgoing Response: 200
2024-09-30 16:09:36.622 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Books - 200 588 application/json; charset=utf-8 83.849ms
2024-09-30 16:10:25.935 +05:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5296/api/Order/3/cancel - application/json-patch+json 22
2024-09-30 16:10:25.940 +05:00 [INF] Incoming Request: PATCH /api/Order/3/cancel
2024-09-30 16:10:25.945 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.OrderController.CancelOrder (BookstoreAPI)'
2024-09-30 16:10:25.950 +05:00 [INF] Route matched with {action = "CancelOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CancelOrder(Int32, System.String) on controller BookstoreAPI.Controllers.OrderController (BookstoreAPI).
2024-09-30 16:10:25.994 +05:00 [INF] Executed DbCommand (33ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CancellationReason], [t].[CustomerId], [t].[CustomerId1], [t].[OrderDate], [t].[ReturnReason], [t].[Status], [t0].[OrderId], [t0].[BookId], [t0].[Quantity], [t0].[UnitPrice], [t0].[Id], [t0].[AuthorId], [t0].[ISBN], [t0].[Price], [t0].[StockQuantity], [t0].[Title]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CancellationReason], [o].[CustomerId], [o].[CustomerId1], [o].[OrderDate], [o].[ReturnReason], [o].[Status]
    FROM [Orders] AS [o]
    WHERE [o].[Id] = @__orderId_0
) AS [t]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[BookId], [o0].[Quantity], [o0].[UnitPrice], [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title]
    FROM [OrderDetails] AS [o0]
    INNER JOIN [Books] AS [b] ON [o0].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t0].[OrderId], [t0].[BookId]
2024-09-30 16:10:26.016 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (DbType = Int32), @p2='?' (DbType = Int32), @p10='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Books] SET [StockQuantity] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Books] SET [StockQuantity] = @p2
OUTPUT 1
WHERE [Id] = @p3;
UPDATE [Orders] SET [CancellationReason] = @p4, [CustomerId] = @p5, [CustomerId1] = @p6, [OrderDate] = @p7, [ReturnReason] = @p8, [Status] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2024-09-30 16:10:26.021 +05:00 [INF] Action BookstoreAPI.Controllers.OrderController.CancelOrder (BookstoreAPI) executed in 66ms
2024-09-30 16:10:26.022 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 16:10:26.025 +05:00 [INF] Executed action BookstoreAPI.Controllers.OrderController.CancelOrder (BookstoreAPI) in 71.7063ms
2024-09-30 16:10:26.027 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.OrderController.CancelOrder (BookstoreAPI)'
2024-09-30 16:10:26.029 +05:00 [INF] Outgoing Response: 200
2024-09-30 16:10:26.033 +05:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5296/api/Order/3/cancel - 200 41 application/json; charset=utf-8 97.691ms
2024-09-30 16:10:34.252 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Inventory/books - null null
2024-09-30 16:10:34.256 +05:00 [INF] Incoming Request: GET /api/Inventory/books
2024-09-30 16:10:34.259 +05:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-09-30 16:10:34.268 +05:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-09-30 16:10:34.270 +05:00 [INF] Outgoing Response: 403
2024-09-30 16:10:34.272 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Inventory/books - 403 0 null 20.0058ms
2024-09-30 16:10:42.497 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5296/api/Books - null null
2024-09-30 16:10:42.501 +05:00 [INF] Incoming Request: GET /api/Books
2024-09-30 16:10:42.505 +05:00 [INF] Executing endpoint 'BookstoreAPI.Controllers.BooksController.GetBooks (BookstoreAPI)'
2024-09-30 16:10:42.508 +05:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookstoreAPI.Models.DTOs.BookReadDTO]]] GetBooks() on controller BookstoreAPI.Controllers.BooksController (BookstoreAPI).
2024-09-30 16:10:42.516 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[ISBN], [b].[Price], [b].[StockQuantity], [b].[Title], [a].[Id], [a].[Bio], [a].[Name]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2024-09-30 16:10:42.524 +05:00 [INF] Action BookstoreAPI.Controllers.BooksController.GetBooks (BookstoreAPI) executed in 10ms
2024-09-30 16:10:42.525 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookstoreAPI.Models.DTOs.BookReadDTO, BookstoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-30 16:10:42.528 +05:00 [INF] Executed action BookstoreAPI.Controllers.BooksController.GetBooks (BookstoreAPI) in 17.7335ms
2024-09-30 16:10:42.530 +05:00 [INF] Executed endpoint 'BookstoreAPI.Controllers.BooksController.GetBooks (BookstoreAPI)'
2024-09-30 16:10:42.531 +05:00 [INF] Outgoing Response: 200
2024-09-30 16:10:42.534 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5296/api/Books - 200 588 application/json; charset=utf-8 36.5926ms
